{
  "kind": "collectionType",
  "collectionName": "projects",
  "info": {
    "singularName": "project",
    "pluralName": "projects",
    "displayName": "Project",
    "description": "Real estate development projects"
  },
  "options": {
    "draftAndPublish": true
  },
  "pluginOptions": {
    "i18n": {
      "localized": true
    }
  },
  "attributes": {
    "name": {
      "type": "string",
      "required": true,
      "unique": true,
      "pluginOptions": {
        "i18n": {
          "localized": true
        }
      }
    },
    "slug": {
      "type": "uid",
      "targetField": "name",
      "required": true
    },
    "description": {
      "type": "text",
      "pluginOptions": {
        "i18n": {
          "localized": true
        }
      }
    },
    "status": {
      "type": "enumeration",
      "enum": [
        "available",
        "sold_out"
      ],
      "default": "available",
      "required": true,
      "pluginOptions": {
        "i18n": {
          "localized": true
        }
      }
    },
    "mainImage": {
      "type": "media",
      "multiple": false,
      "required": false,
      "allowedTypes": [
        "images"
      ],
      "pluginOptions": {
        "i18n": {
          "localized": true
        }
      }
    },
    "images": {
      "type": "media",
      "multiple": true,
      "required": false,
      "allowedTypes": [
        "images"
      ],
      "pluginOptions": {
        "i18n": {
          "localized": true
        }
      }
    },
    "priority": {
      "type": "integer",
      "default": 0,
      "pluginOptions": {
        "i18n": {
          "localized": true
        }
      }
    },
    "units": {
      "type": "relation",
      "relation": "oneToMany",
      "target": "api::unit.unit",
      "mappedBy": "project",
      "description": "PROJECT-SPECIFIC PROPERTY TYPES - Create specific units for this project (e.g., 'Simplex Bouar 638', 'Duplex Bouar 638'). Each unit can have its own size range, images, price, and description."
    },
    "propertyTypes": {
      "type": "relation",
      "relation": "manyToMany",
      "target": "api::property-type.property-type",
      "inversedBy": "projects",
      "description": "GENERAL PROPERTY TYPES - Select which property types are available for this project. All property type details (images, prices, descriptions, features) are managed in the Property Types section. Simply select the types you want for this project and they will inherit all their details automatically."
    },
    "propertyTypeOverrides": {
      "type": "json",
      "required": false,
      "description": "PROJECT-SPECIFIC OVERRIDES - Override specific property type details for this project only. Format: {'simplex': {'image': 'url', 'priceRange': 'custom range'}, 'duplex': {...}}. This allows each project to have custom images or details while keeping the general property type structure.",
      "pluginOptions": {
        "i18n": {
          "localized": true
        }
      }
    },
    "location": {
      "type": "text",
      "pluginOptions": {
        "i18n": {
          "localized": true
        }
      }
    }
  }
}
