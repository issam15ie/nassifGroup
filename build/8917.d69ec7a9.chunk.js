"use strict";(self.webpackChunknassif_group_strapi=self.webpackChunknassif_group_strapi||[]).push([[8917],{20415:(b,D,s)=>{s.d(D,{A:()=>x});var e=s(92132);const c=f=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...f,children:(0,e.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M2.68 9.192c-.6.276-2.114 1.18-2.306 1.303a.792.792 0 0 0-.374.68v1.65a.797.797 0 0 0 .384.687c.254.16 1.73 1.042 2.306 1.303l.744 1.8c-.24.634-.67 2.333-.72 2.554a.797.797 0 0 0 .216.744l1.167 1.166a.801.801 0 0 0 .744.216l.03-.008c.36-.092 1.946-.498 2.523-.712l1.8.744c.276.6 1.181 2.115 1.304 2.307a.805.805 0 0 0 .679.374h1.649a.797.797 0 0 0 .686-.384c.16-.254 1.042-1.73 1.303-2.306l1.8-.744c.634.24 2.333.67 2.554.72a.797.797 0 0 0 .744-.216l1.166-1.167a.803.803 0 0 0 .216-.744l-.008-.03c-.092-.36-.498-1.946-.712-2.523l.744-1.8c.6-.276 2.115-1.181 2.307-1.304a.804.804 0 0 0 .374-.679v-1.649a.796.796 0 0 0-.382-.679c-.254-.16-1.73-1.041-2.306-1.303l-.744-1.8c.24-.634.67-2.333.72-2.554a.796.796 0 0 0-.216-.744l-1.166-1.173a.802.802 0 0 0-.744-.216l-.03.008c-.361.092-1.947.498-2.524.712l-1.8-.744c-.276-.6-1.18-2.115-1.303-2.307a.803.803 0 0 0-.68-.374h-1.65a.797.797 0 0 0-.68.382c-.16.254-1.041 1.73-1.303 2.306l-1.8.744c-.634-.24-2.333-.67-2.554-.72a.797.797 0 0 0-.744.216L2.921 4.094a.802.802 0 0 0-.216.744l.008.03c.092.361.498 1.947.712 2.524l-.744 1.8ZM12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z",clipRule:"evenodd"})}),x=c},42455:(b,D,s)=>{s.d(D,{P:()=>$});var e=s(92132),c=s(94929),x=s(94061);const f=(0,c.Ay)(x.a)`
  display: grid;
  grid-template-columns: ${({hasSideNav:B})=>B?"auto 1fr":"1fr"};
`,M=(0,c.Ay)(x.a)`
  overflow-x: hidden;
`,$=({sideNav:B,children:z})=>(0,e.jsxs)(f,{hasSideNav:Boolean(B),children:[B,(0,e.jsx)(M,{paddingBottom:10,children:z})]})},46270:(b,D,s)=>{s.d(D,{A:()=>x});var e=s(92132);const c=f=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...f,children:(0,e.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),x=c},48917:(b,D,s)=>{s.r(D),s.d(D,{default:()=>ts});var e=s(92132),c=s(21272),x=s(50215),f=s(94061),M=s(85963),$=s(48653),B=s(8361),z=s(90151),V=s(68074),U=s(88353),ee=s(42455),P=s(74773),C=s(4198),N=s(55356),W=s(64871),G=s(43064),Q=s(38413),H=s(61485),se=s(99248),te=s(67030),Z=s(6239),K=s(83997),J=s(30893),Ue=s(98765),_=s(56445),We=s(14718),R=s(54894),F=s(17703),Ke=s(71389),t=s(53551),hs=s(98908),pe=s(5409),Fe=s(46270),Se=s(20415),be=s(3047),$e=s(28604),ze=s(17470),Qe=s(60362),Ve=s(61906),Ne=s(41909),ae=s(5194),Ge=s(50612),ne=s(94929),u=s(33544),He=s(61535),Ze=s(77965),he=s(74930),fs=s(56336),Ms=s(12083),ms=s(40495),xs=s(50837);const Je=(a,{pathname:o,query:l})=>{let r=[{id:null,label:{id:(0,t.g)("plugin.name"),defaultMessage:"Media Library"},href:a?(0,t.a)(o,l):void 0}];return a?.parent?.parent&&r.push([]),a?.parent&&r.push({id:a.parent.id,label:a.parent.name,href:(0,t.a)(o,l,{folder:a.parent.id,folderPath:a.parent.path})}),a&&r.push({id:a.id,label:a.name}),r},we=a=>{const{id:o}=(0,t.u)();return(0,e.jsx)(f.a,{position:"relative",zIndex:2,children:(0,e.jsx)(x.J,{"aria-labelledby":`${o}-title`,...a})})},oe=({pagination:a})=>(0,e.jsx)(f.a,{paddingTop:6,children:(0,e.jsxs)(K.s,{alignItems:"flex-end",justifyContent:"space-between",children:[(0,e.jsx)(_._u,{}),(0,e.jsx)(_.W7,{pagination:a})]})});oe.defaultProps={pagination:{pageCount:0,pageSize:10,total:0}},oe.propTypes={pagination:u.shape({page:u.number,pageCount:u.number,pageSize:u.number,total:u.number})};const fe=({selected:a,onSuccess:o})=>{const{formatMessage:l}=(0,R.A)(),[r,d]=(0,c.useState)(!1),{isLoading:g,remove:E}=(0,t.b)(),h=async()=>{await E(a),o()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(M.$,{variant:"danger-light",size:"S",startIcon:(0,e.jsx)(Ge.A,{}),onClick:()=>d(!0),children:l({id:"global.delete",defaultMessage:"Delete"})}),(0,e.jsx)(_.TM,{isConfirmButtonLoading:g,isOpen:r,onToggleDialog:()=>d(!1),onConfirm:h})]})};fe.propTypes={selected:u.arrayOf(t.A,t.F).isRequired,onSuccess:u.func.isRequired};const Xe=()=>{const a=(0,_.hN)(),o=(0,he.useQueryClient)(),{post:l}=(0,_.ry)(),r=({destinationFolderId:E,filesAndFolders:h})=>{const p=h.reduce((m,A)=>{const{id:i,type:T}=A,v=T==="asset"?"fileIds":"folderIds";return m[v]||(m[v]=[]),m[v].push(i),m},{});return l("/upload/actions/bulk-move",{...p,destinationFolderId:E})},d=(0,he.useMutation)(r,{onSuccess(E){const{data:{data:h}}=E;h?.files?.length>0&&(o.refetchQueries([t.p,"assets"],{active:!0}),o.refetchQueries([t.p,"asset-count"],{active:!0})),o.refetchQueries([t.p,"folders"],{active:!0}),a({type:"success",message:{id:(0,t.g)("modal.move.success-label"),defaultMessage:"Elements have been moved successfully."}})}});return{...d,move:(E,h)=>d.mutateAsync({destinationFolderId:E,filesAndFolders:h})}},ie=({onClose:a,selected:o,currentFolder:l})=>{const{formatMessage:r}=(0,R.A)(),{data:d,isLoading:g}=(0,t.c)(),{move:E}=Xe();if(!d)return null;const h=async(A,{setErrors:i})=>{try{await E(A.destination.value,o),a()}catch(T){const w=(0,_.u7)(T).errors.reduce((X,y)=>(X[y.values?.path?.length||"destination"]=y.defaultMessage,X),{});Ze(w)||i(w)}},p=()=>{a()};if(g)return(0,e.jsx)(H.k,{onClose:p,labelledBy:"title",children:(0,e.jsx)(Z.c,{children:(0,e.jsx)(K.s,{justifyContent:"center",paddingTop:4,paddingBottom:4,children:(0,e.jsx)(G.a,{children:r({id:(0,t.g)("content.isLoading"),defaultMessage:"Content is loading."})})})})});const m={destination:{value:l?.id||"",label:l?.name||d[0].label}};return(0,e.jsx)(H.k,{onClose:p,labelledBy:"title",children:(0,e.jsx)(He.l1,{validateOnChange:!1,onSubmit:h,initialValues:m,children:({values:A,errors:i,setFieldValue:T})=>(0,e.jsxs)(_.lV,{noValidate:!0,children:[(0,e.jsx)(se.r,{children:(0,e.jsx)(J.o,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title",children:r({id:(0,t.g)("modal.folder.move.title"),defaultMessage:"Move elements to"})})}),(0,e.jsx)(Z.c,{children:(0,e.jsx)(z.x,{gap:4,children:(0,e.jsx)(V.E,{xs:12,col:12,children:(0,e.jsxs)(K.s,{direction:"column",alignItems:"stretch",gap:1,children:[(0,e.jsx)(B.d,{htmlFor:"folder-destination",children:r({id:(0,t.g)("form.input.label.folder-location"),defaultMessage:"Location"})}),(0,e.jsx)(t.S,{options:d,onChange:v=>{T("destination",v)},defaultValue:A.destination,name:"destination",menuPortalTarget:document.querySelector("body"),inputId:"folder-destination",error:i?.destination,ariaErrorMessage:"destination-error"}),i.destination&&(0,e.jsx)(J.o,{variant:"pi",as:"p",id:"folder-destination-error",textColor:"danger600",children:i.destination})]})})})}),(0,e.jsx)(te.j,{startActions:(0,e.jsx)(M.$,{onClick:p,variant:"tertiary",name:"cancel",children:r({id:"cancel",defaultMessage:"Cancel"})}),endActions:(0,e.jsx)(M.$,{type:"submit",loading:g,children:r({id:"modal.folder.move.submit",defaultMessage:"Move"})})})]})})})};ie.defaultProps={currentFolder:void 0},ie.propTypes={onClose:u.func.isRequired,currentFolder:t.F,selected:u.arrayOf(t.F,t.A).isRequired};const le=({selected:a,onSuccess:o,currentFolder:l})=>{const{formatMessage:r}=(0,R.A)(),[d,g]=(0,c.useState)(!1),E=()=>{g(!1),o()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(M.$,{variant:"secondary",size:"S",startIcon:(0,e.jsx)(ze.A,{}),onClick:()=>g(!0),children:r({id:"global.move",defaultMessage:"Move"})}),d&&(0,e.jsx)(ie,{currentFolder:l,onClose:E,selected:a})]})};le.defaultProps={currentFolder:void 0},le.propTypes={onSuccess:u.func.isRequired,currentFolder:t.F,selected:u.arrayOf(t.A,t.F).isRequired};const re=({selected:a,onSuccess:o,currentFolder:l})=>{const{formatMessage:r}=(0,R.A)();return(0,e.jsxs)(K.s,{gap:2,paddingBottom:5,children:[(0,e.jsx)(J.o,{variant:"epsilon",textColor:"neutral600",children:r({id:(0,t.g)("list.assets.selected"),defaultMessage:"{numberFolders, plural, one {1 folder} other {# folders}} - {numberAssets, plural, one {1 asset} other {# assets}} selected"},{numberFolders:a.filter(({type:d})=>d==="folder").length,numberAssets:a.filter(({type:d})=>d==="asset").length})}),(0,e.jsx)(fe,{selected:a,onSuccess:o}),(0,e.jsx)(le,{currentFolder:l,selected:a,onSuccess:o})]})};re.defaultProps={currentFolder:void 0},re.propTypes={onSuccess:u.func.isRequired,currentFolder:t.F,selected:u.arrayOf(t.A,t.F).isRequired};const Ye=({isFiltering:a,canCreate:o,canRead:l})=>a?{id:"list.assets-empty.title-withSearch",defaultMessage:"There are no elements with the applied filters"}:l?o?{id:"list.assets.empty-upload",defaultMessage:"Upload your first assets..."}:{id:"list.assets.empty",defaultMessage:"Media Library is empty"}:{id:"header.actions.no-permissions",defaultMessage:"No permissions to view"},Me=({canCreate:a,isFiltering:o,canRead:l,onActionClick:r})=>{const{formatMessage:d}=(0,R.A)(),g=Ye({isFiltering:o,canCreate:a,canRead:l});return(0,e.jsx)(t.E,{icon:l?null:be.A,action:a&&!o&&(0,e.jsx)(M.$,{variant:"secondary",startIcon:(0,e.jsx)(ae.A,{}),onClick:r,children:d({id:(0,t.g)("header.actions.add-assets"),defaultMessage:"Add new assets"})}),content:d({...g,id:(0,t.g)(g.id)})})};Me.propTypes={canCreate:u.bool.isRequired,canRead:u.bool.isRequired,isFiltering:u.bool.isRequired,onActionClick:u.func.isRequired};const ke=()=>{const a=(0,c.useRef)(null),[o,l]=(0,c.useState)(!1),{formatMessage:r}=(0,R.A)(),{trackUsage:d}=(0,_.z1)(),[{query:g},E]=(0,_.sq)(),h=g?.filters?.$and||[],p=()=>l(i=>!i),m=i=>{E({filters:{$and:i},page:1})},A=i=>{d("didFilterMediaLibraryElements",{location:"content-manager",filter:Object.keys(i[i.length-1])[0]}),E({filters:{$and:i},page:1})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(M.$,{variant:"tertiary",ref:a,startIcon:(0,e.jsx)($e.A,{}),onClick:p,size:"S",children:r({id:"app.utils.filters",defaultMessage:"Filters"})}),o&&(0,e.jsx)(t.d,{displayedFilters:t.e,filters:h,onSubmit:A,onToggle:p,source:a}),(0,e.jsx)(t.f,{appliedFilters:h,filtersSchema:t.e,onRemoveFilter:m})]})},de=({breadcrumbs:a,canCreate:o,folder:l,onToggleEditFolderDialog:r,onToggleUploadAssetDialog:d})=>{const{formatMessage:g}=(0,R.A)(),{pathname:E}=(0,F.zy)(),[{query:h}]=(0,_.sq)(),p={...h,folder:l?.parent?.id??void 0,folderPath:l?.parent?.path??void 0};return(0,e.jsx)(N.Q,{title:g({id:(0,t.g)("plugin.name"),defaultMessage:"Media Library"}),subtitle:a&&l&&(0,e.jsx)(t.h,{as:"nav",label:g({id:(0,t.g)("header.breadcrumbs.nav.label"),defaultMessage:"Folders navigation"}),breadcrumbs:a,currentFolderId:l?.id}),navigationAction:l&&(0,e.jsx)(W.N,{startIcon:(0,e.jsx)(Fe.A,{}),to:`${E}?${(0,pe.stringify)(p,{encode:!1})}`,children:g({id:(0,t.g)("header.actions.folder-level-up"),defaultMessage:"Back"})}),primaryAction:o&&(0,e.jsxs)(K.s,{gap:2,children:[(0,e.jsx)(M.$,{startIcon:(0,e.jsx)(ae.A,{}),variant:"secondary",onClick:r,children:g({id:(0,t.g)("header.actions.add-folder"),defaultMessage:"Add new folder"})}),(0,e.jsx)(M.$,{startIcon:(0,e.jsx)(ae.A,{}),onClick:d,children:g({id:(0,t.g)("header.actions.add-assets"),defaultMessage:"Add new assets"})})]})})};de.defaultProps={breadcrumbs:!1,folder:null},de.propTypes={breadcrumbs:u.oneOfType([t.B,u.bool]),canCreate:u.bool.isRequired,folder:t.F,onToggleEditFolderDialog:u.func.isRequired,onToggleUploadAssetDialog:u.func.isRequired};const qe=(0,ne.Ay)(f.a)`
  height: ${32/16}rem;
  display: flex;
  align-items: center;
`,me=(0,ne.Ay)(J.o)`
  max-width: 100%;
`,xe=(0,ne.Ay)(f.a)`
  svg {
    path {
      fill: ${({theme:a})=>a.colors.neutral500};
    }
  }
`,es=()=>{const{push:a}=(0,F.W6)(),{canRead:o,canCreate:l,canUpdate:r,canCopyLink:d,canDownload:g,isLoading:E}=(0,t.i)(),h=(0,c.useRef)(),{formatMessage:p}=(0,R.A)(),{pathname:m}=(0,F.zy)(),{trackUsage:A}=(0,_.z1)(),[{query:i},T]=(0,_.sq)(),v=Boolean(i._q||i.filters),[w,X]=(0,_.ud)(t.l.view,t.v.GRID),y=w===t.v.GRID,{data:L,isLoading:as,errors:ns}=(0,t.j)({skipWhen:!o,query:i}),{data:os,isLoading:is,errors:ls}=(0,t.k)({enabled:o&&L?.pagination?.page===1&&!(0,t.m)(i),query:i}),{data:ce,isLoading:De,error:rs}=(0,t.n)(i?.folder,{enabled:o&&!!i?.folder});rs?.response?.status===404&&a(m);const Y=os?.map(n=>({...n,type:"folder",folderURL:(0,t.a)(m,i,n.id),isSelectable:r}))??[],O=Y?.length||0,k=L?.results?.map(n=>({...n,type:"asset",isSelectable:r}))||[],j=k?.length??0,ds=L?.pagination?.total,ve=De||is||E||as,[cs,_s]=(0,c.useState)(!1),[gs,Pe]=(0,c.useState)(!1),[Oe,_e]=(0,c.useState)(void 0),[ge,je]=(0,c.useState)(void 0),[I,{selectOne:q,selectAll:Ce}]=(0,_.$0)(["type","id"],[]),Ae=I?.length>0&&I?.length!==j+O,ue=()=>_s(n=>!n),ye=({created:n=!1}={})=>{n&&i?.page!=="1"&&T({...i,page:1}),Pe(S=>!S)},Le=(n,S)=>{n.target.checked&&A("didSelectAllMediaLibraryElements"),Ce(S)},Be=n=>{A("didSortMediaLibraryElements",{location:"upload",sort:n}),T({sort:n})},Re=n=>{je(n),Pe(!0)},us=n=>{je(null),ye(n),h.current&&h.current.focus()},Te=n=>{n===j&&L.pagination.page===L.pagination.pageCount&&L.pagination.page>1&&T({...i,page:L.pagination.page-1})},Es=()=>{Ce(),Te(I.length)};return(0,_.L4)(),(0,e.jsxs)(ee.P,{children:[(0,e.jsxs)(Q.g,{"aria-busy":ve,children:[(0,e.jsx)(de,{breadcrumbs:!De&&Je(ce,{pathname:m,query:i}),canCreate:l,onToggleEditFolderDialog:ye,onToggleUploadAssetDialog:ue,folder:ce}),(0,e.jsx)(P.B,{startActions:(0,e.jsxs)(e.Fragment,{children:[r&&y&&(j>0||O>0)&&(0,e.jsx)(qe,{paddingLeft:2,paddingRight:2,background:"neutral0",hasRadius:!0,borderColor:"neutral200",children:(0,e.jsx)(x.J,{"aria-label":p({id:(0,t.g)("bulk.select.label"),defaultMessage:"Select all folders & assets"}),indeterminate:Ae,value:(j>0||O>0)&&I.length===j+O,onChange:n=>Le(n,[...k,...Y])})}),o&&y&&(0,e.jsx)(t.o,{value:i?.sort,onChangeSort:Be}),o&&(0,e.jsx)(ke,{})]}),endActions:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(_.d4,{permissions:t.P.configureView,children:(0,e.jsx)(xe,{paddingTop:1,paddingBottom:1,children:(0,e.jsx)(U.K,{forwardedAs:Ke.N_,to:{pathname:`${m}/configuration`,search:(0,pe.stringify)(i,{encode:!1})},icon:(0,e.jsx)(Se.A,{}),label:p({id:"app.links.configure-view",defaultMessage:"Configure the view"})})})}),(0,e.jsx)(xe,{paddingTop:1,paddingBottom:1,children:(0,e.jsx)(U.K,{icon:y?(0,e.jsx)(Ve.A,{}):(0,e.jsx)(Qe.A,{}),label:p(y?{id:(0,t.g)("view-switch.list"),defaultMessage:"List View"}:{id:(0,t.g)("view-switch.grid"),defaultMessage:"Grid View"}),onClick:()=>X(y?t.v.LIST:t.v.GRID)})}),(0,e.jsx)(_.q7,{label:p({id:(0,t.g)("search.label"),defaultMessage:"Search for an asset"}),trackedEvent:"didSearchMediaLibraryElements",trackedEventDetails:{location:"upload"}})]})}),(0,e.jsxs)(C.s,{children:[I.length>0&&(0,e.jsx)(re,{currentFolder:ce,selected:I,onSuccess:Es}),ve&&(0,e.jsx)(_.Bl,{}),(ns||ls)&&(0,e.jsx)(_.hH,{}),O===0&&j===0&&(0,e.jsx)(Me,{canCreate:l,canRead:o,isFiltering:v,onActionClick:ue}),o&&!y&&(j>0||O>0)&&(0,e.jsx)(t.T,{assetCount:j,folderCount:O,indeterminate:Ae,onChangeSort:Be,onChangeFolder:(n,S)=>a((0,t.a)(m,i,{folder:n,folderPath:S})),onEditAsset:_e,onEditFolder:Re,onSelectOne:q,onSelectAll:Le,rows:[...Y,...k],selected:I,shouldDisableBulkSelect:!r,sortQuery:i?.sort??""}),o&&y&&(0,e.jsxs)(e.Fragment,{children:[O>0&&(0,e.jsx)(t.q,{title:(v&&j>0||!v)&&p({id:(0,t.g)("list.folders.title"),defaultMessage:"Folders ({count})"},{count:O})||"",children:Y.map(n=>{const ps=!!I.filter(({type:Ee})=>Ee==="folder").find(Ee=>Ee.id===n.id),Ie=(0,t.a)(m,i,{folder:n?.id,folderPath:n?.path});return(0,e.jsx)(V.E,{col:3,children:(0,e.jsx)(t.r,{ref:ge&&n.id===ge.id?h:void 0,ariaLabel:n.name,id:`folder-${n.id}`,to:Ie,startAction:q&&n.isSelectable?(0,e.jsx)(we,{"data-testid":`folder-checkbox-${n.id}`,value:ps,onChange:()=>q(n)}):null,cardActions:(0,e.jsx)(U.K,{icon:(0,e.jsx)(Ne.A,{}),"aria-label":p({id:(0,t.g)("list.folder.edit"),defaultMessage:"Edit folder"}),onClick:()=>Re(n)}),children:(0,e.jsx)(t.s,{children:(0,e.jsx)(t.t,{to:Ie,children:(0,e.jsxs)(K.s,{as:"h2",direction:"column",alignItems:"start",maxWidth:"100%",children:[(0,e.jsxs)(me,{fontWeight:"semiBold",ellipsis:!0,children:[n.name,(0,e.jsx)(Ue.s,{children:":"})]}),(0,e.jsx)(me,{as:"span",textColor:"neutral600",variant:"pi",ellipsis:!0,children:p({id:(0,t.g)("list.folder.subtitle"),defaultMessage:"{folderCount, plural, =0 {# folder} one {# folder} other {# folders}}, {filesCount, plural, =0 {# asset} one {# asset} other {# assets}}"},{folderCount:n.children.count,filesCount:n.files.count})})]})})})})},`folder-${n.id}`)})}),j>0&&O>0&&(0,e.jsx)(f.a,{paddingTop:6,paddingBottom:4,children:(0,e.jsx)($.c,{})}),j>0&&(0,e.jsx)(t.w,{assets:k,onEditAsset:_e,onSelectAsset:q,selectedAssets:I.filter(({type:n})=>n==="asset"),title:(!v||v&&O>0)&&L?.pagination?.page===1&&p({id:(0,t.g)("list.assets.title"),defaultMessage:"Assets ({count})"},{count:ds})||""})]}),L?.pagination&&(0,e.jsx)(oe,{pagination:L.pagination})]})]}),cs&&(0,e.jsx)(t.U,{onClose:ue,trackedLocation:"upload",folderId:i?.folder}),gs&&(0,e.jsx)(t.x,{onClose:us,folder:ge,parentFolderId:i?.folder,location:"upload"}),Oe&&(0,e.jsx)(t.y,{onClose:n=>{n===null&&Te(1),_e(void 0)},asset:Oe,canUpdate:r,canCopyLink:d,canDownload:g,trackedLocation:"upload"})]})},ss=(0,c.lazy)(()=>s.e(3698).then(s.bind(s,33698))),ts=()=>{const{config:{isLoading:a,isError:o,data:l}}=(0,t.z)(),[{rawQuery:r},d]=(0,_.sq)(),{formatMessage:g}=(0,R.A)(),E=g({id:(0,t.g)("plugin.name"),defaultMessage:"Media Library"});return(0,c.useEffect)(()=>{a||o||r||d({sort:l.sort,page:1,pageSize:l.pageSize})},[a,o,l,r,d]),(0,_.L4)(),(0,e.jsxs)(Q.g,{"aria-busy":a,children:[(0,e.jsx)(We.m,{title:E}),a&&(0,e.jsx)(_.Bl,{}),r?(0,e.jsx)(c.Suspense,{fallback:(0,e.jsx)(_.Bl,{}),children:(0,e.jsxs)(F.dO,{children:[(0,e.jsx)(F.qh,{exact:!0,path:`/plugins/${t.p}`,component:es}),(0,e.jsx)(F.qh,{exact:!0,path:`/plugins/${t.p}/configuration`,render:()=>(0,e.jsx)(ss,{config:l})})]})}):null]})}},64871:(b,D,s)=>{s.d(D,{N:()=>ee});var e=s(92132),c=s(21272),x=s(14595),f=s(71389),M=s(94929),$=s(78732),B=s(30893),z=s(94061);const V=M.Ay.a`
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  pointer-events: ${({disabled:P})=>P?"none":void 0};
  color: ${({disabled:P,theme:C})=>P?C.colors.neutral600:C.colors.primary600};

  svg path {
    transition: fill 150ms ease-out;
    fill: currentColor;
  }

  svg {
    font-size: ${10/16}rem;
  }

  ${B.o} {
    transition: color 150ms ease-out;
    color: currentColor;
  }

  &:hover {
    color: ${({theme:P})=>P.colors.primary500};
  }

  &:active {
    color: ${({theme:P})=>P.colors.primary700};
  }

  ${$.AP};
`,U=(0,M.Ay)(z.a)`
  display: flex;
`,ee=c.forwardRef(({children:P,href:C,to:N,disabled:W=!1,startIcon:G,endIcon:Q,...H},se)=>{const te=C?"_blank":void 0,Z=C?"noreferrer noopener":void 0;return(0,e.jsxs)(V,{as:N&&!W?f.k2:"a",target:te,rel:Z,to:W?void 0:N,href:W?"#":C,disabled:W,ref:se,...H,children:[G&&(0,e.jsx)(U,{as:"span","aria-hidden":!0,paddingRight:2,children:G}),(0,e.jsx)(B.o,{children:P}),Q&&!C&&(0,e.jsx)(U,{as:"span","aria-hidden":!0,paddingLeft:2,children:Q}),C&&(0,e.jsx)(U,{as:"span","aria-hidden":!0,paddingLeft:2,children:(0,e.jsx)(x.A,{})})]})})},74773:(b,D,s)=>{s.d(D,{B:()=>x});var e=s(92132),c=s(83997);const x=({startActions:f,endActions:M})=>!f&&!M?null:(0,e.jsxs)(c.s,{justifyContent:"space-between",alignItems:"flex-start",paddingBottom:4,paddingLeft:10,paddingRight:10,children:[(0,e.jsx)(c.s,{gap:2,wrap:"wrap",children:f}),(0,e.jsx)(c.s,{gap:2,shrink:0,wrap:"wrap",children:M})]})}}]);
