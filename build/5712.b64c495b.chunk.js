(self.webpackChunknassif_group_strapi=self.webpackChunknassif_group_strapi||[]).push([[5712],{15712:(te,V,o)=>{"use strict";o.r(V),o.d(V,{A:()=>Ue,C:()=>Ft,a:()=>We,g:()=>u,i:()=>Wo,u:()=>Fe});var a=o(92132),M=o(21272),R=o(94061),q=o(18629),ue=o(58805),Oe=o(76079),$=o(83997),W=o(30893),ge=o(94293),Ke=o(90151),qe=o(68074),mt=o(25815),pt=o(64871),fe=o(6239),Ae=o(12081),Te=o(12408),Me=o(48653),ee=o(24093),$e=o(43739),Re=o(95336),he=o(78732),ye=o(4181),ze=o(7537),gt=o(73989),X=o(85963),Qe=o(99248),ba=o(7153),xa=o(8361),Ca=o(98765),Ta=o(74447),Aa=o(7297),ln=o(88353),Ma=o(79739),ja=o(76517),Ra=o(80782),Sa=o(5287),Fa=o(61485),La=o(67030),Na=o(42455),F=o(56445),Ea=o(14718),H=o(54894),dn=o(71389),ce=o(17703),Oa=o(41156),Ia=o(32091),Pa=o(29404),Da=o(87419),wa=o(9005),ve=o(94929),$a=o(84175);const Ba=(0,ve.Ay)(R.a)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,Wa=ve.Ay.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Ua=ve.Ay.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,ka=({label:e,children:t,id:n})=>{const[i,r]=(0,M.useState)(!0),l=(0,$a.B)(n),d=()=>{r(c=>!c)};return(0,a.jsxs)(R.a,{children:[(0,a.jsx)(Ba,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,a.jsx)($.s,{justifyContent:"space-between",children:(0,a.jsxs)(Wa,{onClick:d,"aria-expanded":i,"aria-controls":l,children:[(0,a.jsx)(Ua,{rotated:i,children:(0,a.jsx)(wa.A,{"aria-hidden":!0})}),(0,a.jsx)(R.a,{paddingLeft:2,children:(0,a.jsx)(W.o,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),i&&(0,a.jsx)("ul",{id:l,children:M.Children.map(t,(c,f)=>(0,a.jsx)("li",{children:c},f))})]})};var un=o(63996),qa=o(37679),za=o(60043),st=o(56936),Za=o(58215),Va=o(66322),Ha=o(9032),Ya=o(51505),cn=o(46270),Ga=o(72417),Ka=o(42798),Qa=o(22405),Xa=o(26865),Ja=o(74091),_a=o(54429),es=o(69542),ts=o(12602),ns=o(60426),as=o(96584),ss=o(34280),is=o(63679),rs=o(38864),os=o(12430),ls=o(10908),ds=o(54514),us=o(14448),cs=o(64169),ms=o(54245),ps=o(20415),gs=o(60623),fs=o(26665),hs=o(89315),ys=o(18536),vs=o(81355),bs=o(27421),xs=o(69646),Cs=o(31084),Ts=o(99334),As=o(37901),Ms=o(69512),js=o(19443),Rs=o(59598),Ss=o(27249),Fs=o(23646),Ls=o(34313),Ns=o(28442),Es=o(86986),Os=o(83925),Is=o(64199),Ps=o(4992),Ds=o(85914),ws=o(25614),$s=o(28604),Bs=o(17470),Ws=o(83060),Us=o(32816),ks=o(49389),qs=o(60362),zs=o(82151),Zs=o(51346),Vs=o(87868),Hs=o(38934),Ys=o(39238),Gs=o(52512),Ks=o(87578),Qs=o(2919),Xs=o(64213),Js=o(77701),_s=o(43896),ei=o(93659),ti=o(28826),ni=o(41231),ai=o(3851),mn=o(57549),pn=o(47684),gn=o(39783),si=o(1423),ii=o(39527),ri=o(82813),oi=o(71656),li=o(65841),di=o(23483),fn=o(78580),hn=o(82431),yn=o(30899),ui=o(47926),ci=o(54678),mi=o(64486),pi=o(41909),gi=o(77902),fi=o(95628),hi=o(20055),yi=o(4487),vi=o(89292),bi=o(98052),Ie=o(5194),xi=o(13955),Ci=o(38910),Ti=o(57574),Ai=o(97358),Mi=o(84447),ji=o(84823),Ri=o(25490),Si=o(19143),Fi=o(63931),vn=o(60678),Li=o(46469),Ni=o(15363),Ei=o(61377),Oi=o(90682),Ii=o(21396),Pi=o(44862),Di=o(84114),wi=o(42386),$i=o(50929),Bi=o(58971),Wi=o(24408),Ui=o(18762),ki=o(25262),qi=o(53485),zi=o(87348),Zi=o(5503),Vi=o(22353),Hi=o(20126),Yi=o(11171),Gi=o(6499),Ki=o(94959),Qi=o(76721),Xi=o(80906),Ji=o(29047),Xe=o(57009);const _i=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 34 25",...e,children:[(0,a.jsx)("rect",{width:33,height:23,x:.5,y:1,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),(0,a.jsx)("path",{fill:"#0C75AF",d:"M18.901 9.828a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,a.jsx)("path",{fill:"#0C75AF",d:"M19.703 8.785a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.814.814 0 0 1 .669.792c.005.311.487.311.483 0a1.308 1.308 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.697 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.314-.477-.314-.482-.002ZM18.901 13.488a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,a.jsx)("path",{fill:"#0C75AF",d:"M19.703 12.445a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.812.812 0 0 1 .669.792c.005.311.487.311.483 0a1.307 1.307 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.697 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.314-.477-.314-.482-.002ZM18.901 17.247a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,a.jsx)("path",{fill:"#0C75AF",d:"M19.703 16.204a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.239.804.804 0 0 1 .753-1.301.812.812 0 0 1 .669.792c.005.311.487.311.483 0a1.308 1.308 0 0 0-.867-1.215 1.288 1.288 0 0 0-1.4.39 1.296 1.296 0 0 0-.119 1.489c.283.468.83.698 1.364.596.597-.113 1.012-.664 1.021-1.258.005-.313-.477-.313-.482-.002ZM15.075 9.842a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,a.jsx)("path",{fill:"#0C75AF",d:"M15.876 8.8a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.81.81 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.296 1.296 0 0 0-.119 1.49c.283.468.831.697 1.365.596.596-.114 1.011-.664 1.02-1.258.006-.314-.477-.314-.482-.003ZM15.075 13.503a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,a.jsx)("path",{fill:"#0C75AF",d:"M15.876 12.46a.81.81 0 0 1-.512.748.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.81.81 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.296 1.296 0 0 0-.119 1.49c.283.468.831.697 1.365.596.596-.114 1.011-.664 1.02-1.258.006-.314-.477-.314-.482-.003ZM15.075 17.261a1.043 1.043 0 1 0 0-2.086 1.043 1.043 0 0 0 0 2.086Z"}),(0,a.jsx)("path",{fill:"#0C75AF",d:"M15.876 16.218a.81.81 0 0 1-.512.749.814.814 0 0 1-.91-.24.804.804 0 0 1 .753-1.301.808.808 0 0 1 .669.792c.005.312.488.312.483 0a1.308 1.308 0 0 0-.867-1.214 1.288 1.288 0 0 0-1.4.389 1.293 1.293 0 0 0-.119 1.487c.283.468.831.698 1.365.596.596-.113 1.011-.664 1.02-1.258.006-.311-.477-.311-.482 0Z"})]}),er=_i;var tr=o(71982);const nr=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,a.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#4945FF",stroke:"#4945FF",rx:2.5}),(0,a.jsx)("path",{fill:"#fff",d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082ZM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782Z"})]}),bn=nr;var ar=o(21639),it=o(52078),sr=o(98659),ir=o(19170),xn=o(49167),ft=o(5046),Cn=o(52076);const rr=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,a.jsx)("path",{fill:"#FDF4DC",stroke:"#FAE7B9",d:"M.5 3A2.5 2.5 0 0 1 3 .5h26A2.5 2.5 0 0 1 31.5 3v18a2.5 2.5 0 0 1-2.5 2.5H3A2.5 2.5 0 0 1 .5 21V3Z"}),(0,a.jsx)("path",{fill:"#D9822F",d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 0 1 2.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 0 0 .433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 0 0-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887Z"})]}),or=rr;var lr=o(91086);const dr=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,a.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#EAF5FF",stroke:"#B8E1FF",rx:2.5}),(0,a.jsx)("path",{fill:"#0C75AF",fillRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 0 0-.138-.302A.465.465 0 0 0 18.82 8h-8.357a.465.465 0 0 0-.326.127.397.397 0 0 0-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 0 0 .327-.127.397.397 0 0 0 .138-.301Zm2.785 2.713v.857a.397.397 0 0 1-.137.301.465.465 0 0 1-.327.128H10.464a.465.465 0 0 1-.326-.128.397.397 0 0 1-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 0 1 .326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 0 1 .137.302Zm-1.857 3.574v.857a.397.397 0 0 1-.137.302.465.465 0 0 1-.327.127h-9.286a.465.465 0 0 1-.326-.127.397.397 0 0 1-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 0 1 .326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 0 1 .138.301Z",clipRule:"evenodd"})]}),ur=dr,cr=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 24",...e,children:[(0,a.jsx)("rect",{width:31,height:23,x:.5,y:.5,fill:"#0C75AF",stroke:"#0C75AF",rx:2.5}),(0,a.jsx)("path",{fill:"#fff",d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71ZM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781Z"})]}),mr=cr;var Tn=o(45559),pr=o(75652);const gr=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,a.jsx)("path",{fill:"#181826",d:"m10.614 17.796.878-2.01a7.742 7.742 0 0 1 3.94-3.992l2.416-1.072c.768-.341.768-1.458 0-1.8l-2.34-1.038a7.747 7.747 0 0 1-3.997-4.125l-.89-2.142a.946.946 0 0 0-1.758 0l-.889 2.142a7.747 7.747 0 0 1-3.997 4.125l-2.34 1.039c-.768.34-.768 1.458 0 1.799l2.415 1.072a7.742 7.742 0 0 1 3.94 3.991l.878 2.01a.946.946 0 0 0 1.744 0Zm8.787 4.894.247-.566a4.365 4.365 0 0 1 2.221-2.25l.76-.339a.53.53 0 0 0 0-.963l-.717-.319a4.368 4.368 0 0 1-2.253-2.326l-.254-.611a.507.507 0 0 0-.942 0l-.254.61a4.368 4.368 0 0 1-2.253 2.327l-.718.32a.53.53 0 0 0 0 .962l.76.338a4.365 4.365 0 0 1 2.222 2.251l.247.566c.18.414.754.414.934 0Z"}),(0,a.jsx)("path",{fill:"#181826",d:"m10.614 17.796.878-2.01a7.742 7.742 0 0 1 3.94-3.992l2.416-1.072c.768-.341.768-1.458 0-1.8l-2.34-1.038a7.747 7.747 0 0 1-3.997-4.125l-.89-2.142a.946.946 0 0 0-1.758 0l-.889 2.142a7.747 7.747 0 0 1-3.997 4.125l-2.34 1.039c-.768.34-.768 1.458 0 1.799l2.415 1.072a7.742 7.742 0 0 1 3.94 3.991l.878 2.01a.946.946 0 0 0 1.744 0Zm8.787 4.894.247-.566a4.365 4.365 0 0 1 2.221-2.25l.76-.339a.53.53 0 0 0 0-.963l-.717-.319a4.368 4.368 0 0 1-2.253-2.326l-.254-.611a.507.507 0 0 0-.942 0l-.254.61a4.368 4.368 0 0 1-2.253 2.327l-.718.32a.53.53 0 0 0 0 .962l.76.338a4.365 4.365 0 0 1 2.222 2.251l.247.566c.18.414.754.414.934 0Z"})]}),fr=gr;var hr=o(36481),yr=o(50612),Se=o(39404),b=o(69064),ht=o(56336),I=o(2600),vr=o(94710),An=o(48940),br=o(14311),s=o(33544),Be=o(82437),xr=o(412),Mn=o(89102),Cr=o(5409),yt=o(21835),jn=o(35336),A=o(12083),Tr=o(17024),Ar=o(71547),vt=o(71210),Mr=o(88761),jr=o(5790),Rn=o(35223),Rr=o(45635);const u=e=>`${b.p}.${e}`,Sn=(0,M.createContext)(),Fe=()=>(0,M.useContext)(Sn),Fn=(0,M.createContext)(),We=()=>(0,M.useContext)(Fn),Sr=()=>{const{components:e,componentsGroupedByCategory:t,contentTypes:n,isInDevelopmentMode:i,sortedContentTypesList:r,modifiedData:l,initialData:d}=Fe(),c=(0,F.hN)(),{trackUsage:f}=(0,F.z1)(),[m,p]=(0,M.useState)(""),{onOpenModalCreateSchema:g,onOpenModalEditCategory:x}=We(),{locale:T}=(0,H.A)(),{startsWith:h}=(0,F.U2)(T,{sensitivity:"base"}),j=(0,F.QM)(T,{sensitivity:"base"}),P=!Object.keys(n).some(w=>n[w].isTemporary===!0)&&!Object.keys(e).some(w=>e[w].isTemporary===!0)&&ht(l,d),C=()=>{P?(f("willCreateContentType"),g({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):D()},S=()=>{P?(f("willCreateSingleType"),g({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):D()},L=()=>{P?(f("willCreateComponent"),g({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):D()},D=()=>{c({type:"info",message:{id:u("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},k=Object.entries(t).map(([w,ae])=>({name:w,title:w,isEditable:i,onClickEdit(z,G){z.stopPropagation(),P?x(G.name):D()},links:ae.map(z=>({name:z.uid,to:`/plugins/${b.p}/component-categories/${w}/${z.uid}`,title:z.schema.displayName})).sort((z,G)=>j.compare(z.title,G.title))})).sort((w,ae)=>j.compare(w.title,ae.title)),Q=r.filter(w=>w.visible);return{menu:[{name:"models",title:{id:`${u("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${u("button.model.create")}`,defaultMessage:"Create new collection type",onClick:C},links:Q.filter(w=>w.kind==="collectionType")},{name:"singleTypes",title:{id:`${u("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${u("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:S},links:Q.filter(w=>w.kind==="singleType")},{name:"components",title:{id:`${u("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${u("button.component.create")}`,defaultMessage:"Create a new component",onClick:L},links:k}].map(w=>w.links.some(z=>Array.isArray(z.links))?{...w,links:w.links.map(z=>{const G=z.links.filter(K=>h(K.title,m));return G.length===0?null:{...z,links:G.sort((K,_)=>j.compare(K.title,_.title))}}).filter(Boolean)}:{...w,links:w.links.filter(z=>h(z.title,m)).sort((z,G)=>j.compare(z.title,G.title))}),searchValue:m,onSearchChange:p}},Fr=()=>{const{menu:e,searchValue:t,onSearchChange:n}=Sr(),{formatMessage:i}=(0,H.A)();return(0,a.jsxs)(Oa.C,{ariaLabel:i({id:`${u("plugin.name")}`,defaultMessage:"Content-Types Builder"}),children:[(0,a.jsx)(Ia.X,{searchable:!0,value:t,onClear:()=>n(""),onChange:r=>n(r.target.value),label:i({id:`${u("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),(0,a.jsx)(Pa.w,{children:e.map(r=>(0,a.jsxs)(M.Fragment,{children:[(0,a.jsx)(Da.L,{label:i({id:r.title.id,defaultMessage:r.title.defaultMessage}),collapsable:!0,badgeLabel:r.links.length.toString(),children:r.links.map(l=>l.links?(0,a.jsx)(ka,{label:Se(l.title),children:l.links.map(d=>(0,a.jsx)(un.u,{as:dn.k2,to:d.to,active:d.active,isSubSectionChild:!0,children:Se(i({id:d.name,defaultMessage:d.title}))},d.name))},l.name):(0,a.jsx)(un.u,{as:dn.k2,to:l.to,active:l.active,children:Se(i({id:l.name,defaultMessage:l.title}))},l.name))}),r.customLink&&(0,a.jsx)(R.a,{paddingLeft:7,children:(0,a.jsx)(q.Q,{onClick:r.customLink.onClick,startIcon:(0,a.jsx)(ue.I,{as:Ie.A,width:(0,F.a8)(8),height:(0,F.a8)(8)}),marginTop:2,children:i({id:r.customLink.id,defaultMessage:r.customLink.defaultMessage})})})]},r.name))})]})},Ln=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),bt=(e,t)=>e.find(({name:n})=>n===t),Lr=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],xt=({intlLabel:e,name:t,onChange:n,value:i})=>{const{formatMessage:r}=(0,H.A)(),l=i===null||i.length===0?r({id:"global.none",defaultMessage:"None"}):[...i].sort().map(c=>Se(c)).join(", "),d=e.id?r({id:e.id,defaultMessage:e.defaultMessage}):t;return(0,a.jsx)(Oe.B,{id:"select1",label:d,customizeContent:()=>l,onChange:c=>{c.length>0?n({target:{name:t,value:c,type:"allowed-types-select"}}):n({target:{name:t,value:null,type:"allowed-types-select"}})},options:Lr,value:i||[]})};xt.defaultProps={value:null},xt.propTypes={intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,name:s.string.isRequired,onChange:s.func.isRequired,value:s.oneOfType([s.object,s.array])};const Nn={biginteger:Xe.A,blocks:er,boolean:tr.A,collectionType:bn,component:ar.A,contentType:bn,date:it.A,datetime:it.A,decimal:Xe.A,dynamiczone:sr.A,email:ir.A,enum:xn.A,enumeration:xn.A,file:ft.A,files:ft.A,float:Xe.A,integer:Xe.A,json:Cn.A,JSON:Cn.A,media:ft.A,number:Xe.A,password:or,relation:lr.A,richtext:ur,singleType:mr,string:Tn.A,text:Tn.A,time:it.A,timestamp:it.A,uid:pr.A},Nr=(0,ve.Ay)(R.a)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Ue=({type:e,customField:t,...n})=>{const i=(0,F.AC)();let r=Nn[e];if(t){const{icon:l}=i.get(t);l&&(r=l)}return Nn[e]?(0,a.jsx)(Nr,{height:(0,F.a8)(24),width:(0,F.a8)(32),shrink:0,...n,"aria-hidden":!0,children:(0,a.jsx)(R.a,{as:r})}):null};Ue.defaultProps={customField:null},Ue.propTypes={type:s.string.isRequired,customField:s.string};const En=(0,ve.Ay)(R.a)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,Er=["blocks"],Or=()=>(0,a.jsx)($.s,{grow:1,justifyContent:"flex-end",children:(0,a.jsxs)($.s,{gap:1,fontSizes:0,hasRadius:!0,background:"alternative100",padding:`${2/16}rem ${4/16}rem`,children:[(0,a.jsx)(ue.I,{width:`${10/16}rem`,height:`${10/16}rem`,as:fr,color:"alternative600"}),(0,a.jsx)(W.o,{textColor:"alternative600",variant:"sigma",children:"New"})]})}),Ct=({type:e})=>{const{formatMessage:t}=(0,H.A)(),{onClickSelectField:n}=We(),i=()=>{n({attributeType:e,step:e==="component"?"1":null})};return(0,a.jsx)(En,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i,children:(0,a.jsxs)($.s,{children:[(0,a.jsx)(Ue,{type:e}),(0,a.jsxs)(R.a,{paddingLeft:4,width:"100%",children:[(0,a.jsxs)($.s,{justifyContent:"space-between",children:[(0,a.jsx)(W.o,{fontWeight:"bold",children:t({id:u(`attribute.${e}`),defaultMessage:e})}),Er.includes(e)&&(0,a.jsx)(Or,{})]}),(0,a.jsx)($.s,{children:(0,a.jsx)(W.o,{variant:"pi",textColor:"neutral600",children:t({id:u(`attribute.${e}.description`),defaultMessage:"A type for modeling data"})})})]})]})})};Ct.defaultProps={type:"text"},Ct.propTypes={type:s.string};const On=({attributes:e})=>(0,a.jsx)(ge.r,{tagName:"button",children:(0,a.jsx)($.s,{direction:"column",alignItems:"stretch",gap:8,children:e.map((t,n)=>(0,a.jsx)(Ke.x,{gap:3,children:t.map(i=>(0,a.jsx)(qe.E,{col:6,children:(0,a.jsx)(Ct,{type:i})},i))},n))})});On.propTypes={attributes:s.array.isRequired};const In=({customFieldUid:e,customField:t})=>{const{type:n,intlLabel:i,intlDescription:r}=t,{formatMessage:l}=(0,H.A)(),{onClickSelectCustomField:d}=We(),c=()=>{d({attributeType:n,customFieldUid:e})};return(0,a.jsx)(En,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c,children:(0,a.jsxs)($.s,{children:[(0,a.jsx)(Ue,{type:n,customField:e}),(0,a.jsxs)(R.a,{paddingLeft:4,children:[(0,a.jsx)($.s,{children:(0,a.jsx)(W.o,{fontWeight:"bold",children:l(i)})}),(0,a.jsx)($.s,{children:(0,a.jsx)(W.o,{variant:"pi",textColor:"neutral600",children:l(r)})})]})]})})};In.propTypes={customFieldUid:s.string.isRequired,customField:s.shape({type:s.string.isRequired,icon:s.func,intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired}).isRequired,intlDescription:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired}).isRequired}).isRequired};const Ir=(0,ve.Ay)(R.a)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Pr=()=>(0,a.jsx)($.s,{wrap:"wrap",gap:4,children:[...Array(4)].map((e,t)=>(0,a.jsx)(Ir,{height:"138px",width:"375px",hasRadius:!0},`empty-card-${t}`))}),Dr=()=>{const{formatMessage:e}=(0,H.A)();return(0,a.jsxs)(R.a,{position:"relative",children:[(0,a.jsx)(Pr,{}),(0,a.jsx)(R.a,{position:"absolute",top:6,width:"100%",children:(0,a.jsxs)($.s,{alignItems:"center",justifyContent:"center",direction:"column",children:[(0,a.jsx)(ue.I,{as:hr.A,color:"",width:"160px",height:"88px"}),(0,a.jsx)(R.a,{paddingTop:6,paddingBottom:4,children:(0,a.jsxs)(R.a,{textAlign:"center",children:[(0,a.jsx)(W.o,{variant:"delta",as:"p",textColor:"neutral600",children:e({id:u("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})}),(0,a.jsx)(R.a,{paddingTop:4,children:(0,a.jsx)(W.o,{variant:"delta",as:"p",textColor:"neutral600",children:e({id:u("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."})})})]})}),(0,a.jsx)(mt.z,{to:`/marketplace?${Cr.stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:(0,a.jsx)(Ie.A,{}),children:e({id:u("modalForm.empty.button"),defaultMessage:"Add custom fields"})})]})})]})},wr=()=>{const{formatMessage:e}=(0,H.A)(),t=(0,F.AC)(),n=Object.entries(t.getAll());if(!n.length)return(0,a.jsx)(Dr,{});const i=n.sort((r,l)=>r[1].name>l[1].name?1:-1);return(0,a.jsx)(ge.r,{tagName:"button",children:(0,a.jsxs)($.s,{direction:"column",alignItems:"stretch",gap:3,children:[(0,a.jsx)(Ke.x,{gap:3,children:i.map(([r,l])=>(0,a.jsx)(qe.E,{col:6,children:(0,a.jsx)(In,{customFieldUid:r,customField:l},r)},r))}),(0,a.jsx)(pt.N,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0,children:e({id:u("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"})})]})})},Pn=({attributes:e,forTarget:t,kind:n})=>{const{formatMessage:i}=(0,H.A)(),r=u("modalForm.tabs.default"),l=u("modalForm.tabs.custom"),d=t.includes("component")?"component":n,c=u(`modalForm.sub-header.chooseAttribute.${d}`);return(0,a.jsx)(fe.c,{padding:7,children:(0,a.jsxs)(Ae.f,{label:i({id:u("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple",children:[(0,a.jsxs)($.s,{justifyContent:"space-between",children:[(0,a.jsx)(W.o,{variant:"beta",as:"h2",children:i({id:c,defaultMessage:"Select a field"})}),(0,a.jsxs)(Te.t,{children:[(0,a.jsx)(Te.o,{children:i({id:r,defaultMessage:"Default"})}),(0,a.jsx)(Te.o,{children:i({id:l,defaultMessage:"Custom"})})]})]}),(0,a.jsx)(R.a,{paddingBottom:6,children:(0,a.jsx)(Me.c,{})}),(0,a.jsxs)(ee.T,{children:[(0,a.jsx)(ee.K,{children:(0,a.jsx)(On,{attributes:e})}),(0,a.jsx)(ee.K,{children:(0,a.jsx)(wr,{})})]})]})})};Pn.propTypes={attributes:s.array.isRequired,forTarget:s.string.isRequired,kind:s.string.isRequired};const Tt=({intlLabel:e,name:t,options:n,onChange:i,value:r})=>{const{formatMessage:l}=(0,H.A)(),d=e.id?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):t,c=f=>{let m="";f==="true"&&(m=!0),f==="false"&&(m=!1),i({target:{name:t,value:m,type:"select-default-boolean"}})};return(0,a.jsx)($e.l,{label:d,id:t,name:t,onChange:c,value:(r===null?"":r).toString(),children:n.map(({metadatas:{intlLabel:f,disabled:m,hidden:p},key:g,value:x})=>(0,a.jsx)(Re.c,{value:x,disabled:m,hidden:p,children:f.defaultMessage},g))})};Tt.defaultProps={value:null},Tt.propTypes={intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,name:s.string.isRequired,onChange:s.func.isRequired,options:s.arrayOf(s.shape({metadatas:s.shape({intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired}).isRequired,disabled:s.bool,hidden:s.bool}).isRequired,key:s.oneOfType([s.string,s.number]).isRequired,value:s.oneOfType([s.string,s.number]).isRequired}).isRequired).isRequired,value:s.any};const $r=(0,ve.Ay)($.s)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,he.id)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${W.o} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,Je=({intlLabel:e,name:t,onChange:n,radios:i,value:r})=>{const{formatMessage:l}=(0,H.A)();return(0,a.jsxs)($.s,{direction:"column",alignItems:"stretch",gap:2,children:[(0,a.jsx)(W.o,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:t,as:"label",children:l(e)}),(0,a.jsx)($r,{gap:4,alignItems:"stretch",children:i.map(d=>(0,a.jsxs)("label",{htmlFor:d.value.toString(),className:"container",children:[(0,a.jsx)("input",{id:d.value.toString(),name:t,className:"option-input",checked:d.value===r,value:d.value,onChange:n,type:"radio"},d.value),(0,a.jsx)(R.a,{className:"option",padding:4,children:(0,a.jsxs)($.s,{children:[(0,a.jsx)(R.a,{paddingRight:4,children:(0,a.jsx)("span",{className:"checkmark"})}),(0,a.jsxs)($.s,{direction:"column",alignItems:"stretch",gap:2,children:[(0,a.jsx)(W.o,{fontWeight:"bold",children:l(d.title)}),(0,a.jsx)(W.o,{variant:"pi",textColor:"neutral600",children:l(d.description)})]})]})})]},d.value))})]})};Je.defaultProps={radios:[]},Je.propTypes={intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,name:s.string.isRequired,onChange:s.func.isRequired,radios:s.arrayOf(s.shape({title:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired}),description:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired}),value:s.any.isRequired})),value:s.oneOfType([s.string,s.bool]).isRequired};const Dn=({onChange:e,name:t,...n})=>{const i=r=>{const l=r.target.value!=="false";e({target:{name:t,value:l,type:"boolean-radio-group"}})};return(0,a.jsx)(Je,{...n,name:t,onChange:i})};Dn.propTypes={name:s.string.isRequired,onChange:s.func.isRequired};const At=({error:e,intlLabel:t,modifiedData:n,name:i,onChange:r,value:l})=>{const{formatMessage:d}=(0,H.A)(),[c,f]=(0,M.useState)(!!l||l===0),m=t.id?d({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):i,p=n.type==="biginteger"?"text":"number",g=!n.type,x=e?d({id:e,defaultMessage:e}):"";return(0,a.jsxs)($.s,{direction:"column",alignItems:"stretch",gap:2,children:[(0,a.jsx)(ye.S,{id:i,name:i,onValueChange:T=>{r({target:{name:i,value:T?p==="text"?"0":0:null}}),f(P=>!P)},value:c,children:m}),c&&(0,a.jsx)(R.a,{paddingLeft:6,style:{maxWidth:"200px"},children:p==="text"?(0,a.jsx)(ze.k,{"aria-label":m,disabled:g,error:x,id:i,name:i,onChange:r,value:l===null?"":l}):(0,a.jsx)(gt.Q,{"aria-label":m,disabled:g,error:x,id:i,name:i,onValueChange:T=>{r({target:{name:i,value:T,type:p}})},value:l||0})})]})};At.defaultProps={error:null,value:null},At.propTypes={error:s.string,intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,modifiedData:s.object.isRequired,name:s.string.isRequired,onChange:s.func.isRequired,value:s.oneOfType([s.string,s.object,s.bool,s.number])};const wn=({onChange:e,...t})=>{const n=(0,F.hN)(),i=r=>{n({type:"info",message:{id:u("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(r)};return(0,a.jsx)(Je,{...t,onChange:i})};wn.propTypes={onChange:s.func.isRequired};const Mt=({description:e,disabled:t,intlLabel:n,isCreating:i,name:r,onChange:l,value:d})=>{const{formatMessage:c}=(0,H.A)(),[f,m]=(0,M.useState)(!1),p=n.id?c({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):r,g=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=()=>m(j=>!j),T=()=>{l({target:{name:r,value:!1}}),x()},h=({target:{checked:j}})=>{if(!j&&!i){x();return}l({target:{name:r,value:j}})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ye.S,{checked:d,disabled:t,hint:g,name:r,onChange:h,children:p}),(0,a.jsx)(F.TM,{isOpen:f,onToggleDialog:x,onConfirm:T,bodyText:{id:u("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:u("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}})]})};Mt.defaultProps={description:null,disabled:!1,value:!1},Mt.propTypes={description:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}),disabled:s.bool,intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,isCreating:s.bool.isRequired,name:s.string.isRequired,onChange:s.func.isRequired,value:s.bool};const jt=({categoryName:e,deleteCategory:t,deleteComponent:n,deleteContentType:i,isAttributeModal:r,isCustomFieldModal:l,isComponentAttribute:d,isComponentToDzModal:c,isContentTypeModal:f,isCreatingComponent:m,isCreatingComponentAttribute:p,isCreatingComponentInDz:g,isCreatingComponentWhileAddingAField:x,isCreatingContentType:T,isCreatingDz:h,isComponentModal:j,isDzAttribute:P,isEditingAttribute:C,isEditingCategory:S,isInFirstComponentStep:L,onSubmitAddComponentAttribute:D,onSubmitAddComponentToDz:k,onSubmitCreateContentType:Q,onSubmitCreateComponent:J,onSubmitCreateDz:w,onSubmitEditAttribute:ae,onSubmitEditCategory:z,onSubmitEditComponent:G,onSubmitEditContentType:K,onSubmitEditCustomFieldAttribute:_,onSubmitEditDz:Le,onClickFinish:re})=>{const{formatMessage:Y}=(0,H.A)();return c?g?(0,a.jsx)(X.$,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),k(N,!0)},startIcon:(0,a.jsx)(Ie.A,{}),children:Y({id:u("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})}):(0,a.jsx)(X.$,{variant:"default",type:"submit",onClick:N=>{N.preventDefault(),k(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})}):r&&P&&!h?(0,a.jsx)(X.$,{variant:"default",type:"submit",onClick:N=>{N.preventDefault(),re(),Le(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})}):r&&P&&h?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(X.$,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),w(N,!0)},startIcon:(0,a.jsx)(Ie.A,{}),children:Y({id:u("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"})})}):r&&d?L?(0,a.jsx)(X.$,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),D(N,!0)},children:Y(p?{id:u("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:u("form.button.select-component"),defaultMessage:"Configure the component"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.$,{variant:"secondary",type:"submit",onClick:N=>{N.preventDefault(),D(N,!0)},startIcon:(0,a.jsx)(Ie.A,{}),children:Y(x?{id:u("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:u("form.button.add-field"),defaultMessage:"Add another field"})}),(0,a.jsx)(X.$,{variant:"default",type:"button",onClick:N=>{N.preventDefault(),re(),D(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})})]}):r&&!d&&!P?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.$,{type:C?"button":"submit",variant:"secondary",onClick:N=>{N.preventDefault(),ae(N,!0)},startIcon:(0,a.jsx)(Ie.A,{}),children:Y({id:u("form.button.add-field"),defaultMessage:"Add another field"})}),(0,a.jsx)(X.$,{type:C?"submit":"button",variant:"default",onClick:N=>{N.preventDefault(),re(),ae(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})})]}):f?(0,a.jsxs)(a.Fragment,{children:[!T&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.$,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),i()},children:Y({id:"global.delete",defaultMessage:"Delete"})}),(0,a.jsx)(X.$,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),K(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})})]}),T&&(0,a.jsx)(X.$,{type:"submit",variant:"secondary",onClick:N=>{N.preventDefault(),Q(N,!0)},children:Y({id:"global.continue",defaultMessage:"Continue"})})]}):j?(0,a.jsxs)(a.Fragment,{children:[!m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.$,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),n()},children:Y({id:"global.delete",defaultMessage:"Delete"})}),(0,a.jsx)(X.$,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),G(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})})]}),m&&(0,a.jsx)(X.$,{type:"submit",variant:"secondary",onClick:N=>{N.preventDefault(),J(N,!0)},children:Y({id:"global.continue",defaultMessage:"Continue"})})]}):S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.$,{type:"button",variant:"danger",onClick:N=>{N.preventDefault(),t(e)},children:Y({id:"global.delete",defaultMessage:"Delete"})}),(0,a.jsx)(X.$,{type:"submit",variant:"default",onClick:N=>{N.preventDefault(),z(N)},children:Y({id:"global.finish",defaultMessage:"finish"})})]}):l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.$,{type:C?"button":"submit",variant:"secondary",onClick:N=>{N.preventDefault(),_(N,!0)},startIcon:(0,a.jsx)(Ie.A,{}),children:Y({id:u("form.button.add-field"),defaultMessage:"Add another field"})}),(0,a.jsx)(X.$,{type:C?"submit":"button",variant:"default",onClick:N=>{N.preventDefault(),re(),_(N,!1)},children:Y({id:"global.finish",defaultMessage:"Finish"})})]}):null};jt.defaultProps={categoryName:null,onClickFinish(){}},jt.propTypes={categoryName:s.string,deleteCategory:s.func.isRequired,deleteComponent:s.func.isRequired,deleteContentType:s.func.isRequired,isAttributeModal:s.bool.isRequired,isCustomFieldModal:s.bool.isRequired,isComponentAttribute:s.bool.isRequired,isComponentModal:s.bool.isRequired,isComponentToDzModal:s.bool.isRequired,isContentTypeModal:s.bool.isRequired,isCreatingComponent:s.bool.isRequired,isCreatingComponentAttribute:s.bool.isRequired,isCreatingComponentInDz:s.bool.isRequired,isCreatingComponentWhileAddingAField:s.bool.isRequired,isCreatingContentType:s.bool.isRequired,isCreatingDz:s.bool.isRequired,isDzAttribute:s.bool.isRequired,isEditingAttribute:s.bool.isRequired,isEditingCategory:s.bool.isRequired,isInFirstComponentStep:s.bool.isRequired,onSubmitAddComponentAttribute:s.func.isRequired,onSubmitAddComponentToDz:s.func.isRequired,onSubmitCreateContentType:s.func.isRequired,onSubmitCreateComponent:s.func.isRequired,onSubmitCreateDz:s.func.isRequired,onSubmitEditAttribute:s.func.isRequired,onSubmitEditCategory:s.func.isRequired,onSubmitEditComponent:s.func.isRequired,onSubmitEditContentType:s.func.isRequired,onSubmitEditCustomFieldAttribute:s.func.isRequired,onSubmitEditDz:s.func.isRequired,onClickFinish:s.func};const Rt=({actionType:e,attributeName:t,attributeType:n,categoryName:i,contentTypeKind:r,dynamicZoneTarget:l,forTarget:d,modalType:c,targetUid:f,customFieldUid:m,showBackLink:p})=>{const{formatMessage:g}=(0,H.A)(),{modifiedData:x}=Fe(),{onOpenModalAddField:T}=We();let h,j=[];const P=x?.[d]?.[f]||x?.[d]||null;let C=P?.schema.displayName;if(c==="contentType"&&(h=r),["component","editCategory"].includes(c)&&(h="component"),["component","contentType"].includes(c)){let L=u(`modalForm.component.header-${e}`);return c==="contentType"&&(L=u(`modalForm.${r}.header-create`)),e==="edit"&&(L=u("modalForm.header-edit")),(0,a.jsx)(Qe.r,{children:(0,a.jsxs)($.s,{children:[(0,a.jsx)(R.a,{children:(0,a.jsx)(Ue,{type:h})}),(0,a.jsx)(R.a,{paddingLeft:3,children:(0,a.jsx)(W.o,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title",children:g({id:L},{name:C})})})]})})}return j=[{label:C,info:{category:P?.category||null,name:P?.schema.displayName}}],c==="chooseAttribute"&&(h=["component","components"].includes(d)?"component":P.schema.kind),c==="addComponentToDynamicZone"&&(h="dynamiczone",j.push({label:l})),(c==="attribute"||c==="customField")&&(h=n,j.push({label:t})),c==="editCategory"&&(j=[{label:g({id:u("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]),(0,a.jsx)(Qe.r,{children:(0,a.jsxs)($.s,{gap:3,children:[p&&(0,a.jsx)(F.N_,{"aria-label":g({id:u("modalForm.header.back"),defaultMessage:"Back"}),startIcon:(0,a.jsx)(cn.A,{}),onClick:()=>T({forTarget:d,targetUid:f}),to:"#back"}),(0,a.jsx)(Ue,{type:h,customField:m}),(0,a.jsx)(qa.B,{label:j.map(({label:L})=>L).join(","),children:j.map(({label:L,info:D},k,Q)=>{if(L=Se(L),!L)return null;const J=`${L}.${k}`;return D?.category&&(L=`${L} (${Se(D.category)} - ${Se(D.name)})`),(0,a.jsx)(za.m,{isCurrent:k===Q.length-1,children:L},J)})})]})})};Rt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null,showBackLink:!1},Rt.propTypes={actionType:s.string,attributeName:s.string,attributeType:s.string,categoryName:s.string,contentTypeKind:s.string,dynamicZoneTarget:s.string,forTarget:s.oneOf(["contentType","component","components"]),modalType:s.string.isRequired,targetUid:s.string,customFieldUid:s.string,showBackLink:s.bool};const Br=({modalType:e,forTarget:t,kind:n,actionType:i,step:r})=>{switch(e){case"chooseAttribute":return u(`modalForm.sub-header.chooseAttribute.${t.includes("component")?"component":n||"collectionType"}`);case"attribute":return u(`modalForm.sub-header.attribute.${i}${r!=="null"&&r!==null&&i!=="edit"?".step":""}`);case"customField":return u(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return u("modalForm.sub-header.addComponentToDynamicZone");default:return u("configurations")}},St=({actionType:e,modalType:t,forTarget:n,kind:i,step:r,attributeType:l,attributeName:d,customField:c})=>{const{formatMessage:f}=(0,H.A)(),m=t==="customField"?c.intlLabel:{id:u(`attribute.${l}`)};return(0,a.jsxs)($.s,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1,children:[(0,a.jsx)(W.o,{as:"h2",variant:"beta",children:f({id:Br({actionType:e,forTarget:n,kind:i,step:r,modalType:t}),defaultMessage:"Add new field"},{type:Se(f(m)),name:Se(d),step:r})}),(0,a.jsx)(W.o,{variant:"pi",textColor:"neutral600",children:f({id:u(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})})]})};St.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},St.propTypes={actionType:s.string,modalType:s.string,forTarget:s.string,kind:s.string,step:s.string,attributeType:s.string,attributeName:s.string,customField:s.object};const Ft={alien:Za.A,apps:Va.A,archive:Ha.A,arrowDown:Ya.A,arrowLeft:cn.A,arrowRight:Ga.A,arrowUp:Ka.A,attachment:Qa.A,bell:Xa.A,bold:Ja.A,book:_a.A,briefcase:es.A,brush:ts.A,bulletList:ns.A,calendar:as.A,car:ss.A,cast:is.A,chartBubble:rs.A,chartCircle:os.A,chartPie:ls.A,check:ds.A,clock:us.A,cloud:cs.A,code:ms.A,cog:ps.A,collapse:gs.A,command:fs.A,connector:hs.A,crop:ys.A,crown:vs.A,cube:bs.A,cup:xs.A,cursor:Cs.A,dashboard:Ts.A,database:As.A,discuss:Ms.A,doctor:js.A,earth:Rs.A,emotionHappy:Ss.A,emotionUnhappy:Fs.A,envelop:Ls.A,exit:Ns.A,expand:Es.A,eye:Os.A,feather:Is.A,file:Ps.A,fileError:Ds.A,filePdf:ws.A,filter:$s.A,folder:Bs.A,gate:Ws.A,gift:Us.A,globe:ks.A,grid:qs.A,handHeart:zs.A,hashtag:Zs.A,headphone:Vs.A,heart:Hs.A,house:Ys.A,information:Gs.A,italic:Ks.A,key:Qs.A,landscape:Xs.A,layer:Js.A,layout:_s.A,lightbulb:ei.A,link:ti.A,lock:ni.A,magic:ai.A,manyToMany:mn.A,manyToOne:pn.A,manyWays:gn.A,medium:si.A,message:ii.A,microphone:ri.A,monitor:oi.A,moon:li.A,music:di.A,oneToMany:fn.A,oneToOne:hn.A,oneWay:yn.A,paint:ui.A,paintBrush:ci.A,paperPlane:mi.A,pencil:pi.A,phone:gi.A,picture:fi.A,pin:hi.A,pinMap:yi.A,plane:vi.A,play:bi.A,plus:Ie.A,priceTag:xi.A,puzzle:Ci.A,question:Ti.A,quote:Ai.A,repeat:Mi.A,restaurant:ji.A,rocket:Ri.A,rotate:Si.A,scissors:Fi.A,search:vn.A,seed:Li.A,server:Ni.A,shield:Ei.A,shirt:Oi.A,shoppingCart:Ii.A,slideshow:Pi.A,stack:Di.A,star:wi.A,store:$i.A,strikeThrough:Bi.A,sun:Wi.A,television:Ui.A,thumbDown:ki.A,thumbUp:qi.A,train:zi.A,twitter:Zi.A,typhoon:Vi.A,underline:Hi.A,user:Yi.A,volumeMute:Gi.A,volumeUp:Ki.A,walk:Qi.A,wheelchair:Xi.A,write:Ji.A},Wr=(0,ve.Ay)($.s)`
  label {
    ${he.id}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,$n=({iconKey:e,name:t,onChange:n,isSelected:i,ariaLabel:r})=>(0,a.jsx)(ba.D,{name:t,required:!1,children:(0,a.jsxs)(xa.d,{htmlFor:e,id:`${e}-label`,children:[(0,a.jsxs)(Ca.s,{children:[(0,a.jsx)(Ta.T,{type:"radio",id:e,name:t,checked:i,onChange:n,value:e,"aria-checked":i,"aria-labelledby":`${e}-label`}),r]}),(0,a.jsx)($.s,{padding:2,cursor:"pointer",hasRadius:!0,background:i&&"primary200",children:(0,a.jsx)(ue.I,{as:Ft[e],color:i?"primary600":"neutral300"})})]})});$n.propTypes={iconKey:s.string.isRequired,name:s.string.isRequired,onChange:s.func.isRequired,isSelected:s.bool.isRequired,ariaLabel:s.string.isRequired};const Lt=({intlLabel:e,name:t,onChange:n,value:i})=>{const{formatMessage:r}=(0,H.A)(),[l,d]=(0,M.useState)(!1),[c,f]=(0,M.useState)(""),m=Object.keys(Ft),[p,g]=(0,M.useState)(m),x=(0,M.useRef)(null),T=(0,M.useRef)(null),h=()=>{d(!l)},j=({target:{value:S}})=>{f(S),g(()=>m.filter(L=>L.toLowerCase().includes(S.toLowerCase())))},P=()=>{h(),f(""),g(m)},C=()=>{n({target:{name:t,value:""}})};return(0,M.useEffect)(()=>{l&&T.current.focus()},[l]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)($.s,{justifyContent:"space-between",paddingBottom:2,children:[(0,a.jsx)(W.o,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label",children:r(e)}),(0,a.jsxs)($.s,{gap:1,children:[l?(0,a.jsx)(Aa.S,{ref:T,name:"searchbar",size:"S",placeholder:r({id:u("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{c||h()},onChange:j,value:c,onClear:P,clearLabel:r({id:u("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"}),children:r({id:u("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})}):(0,a.jsx)(ln.K,{ref:x,onClick:h,"aria-label":r({id:u("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:(0,a.jsx)(vn.A,{}),noBorder:!0}),i&&(0,a.jsx)(Ma.m,{description:r({id:u("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"}),children:(0,a.jsx)(ln.K,{onClick:C,"aria-label":r({id:u("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:(0,a.jsx)(yr.A,{}),noBorder:!0})})]})]}),(0,a.jsx)(Wr,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center",children:p.length>0?p.map(S=>(0,a.jsx)($n,{iconKey:S,name:t,onChange:n,isSelected:S===i,ariaLabel:r({id:u("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:S})},S)):(0,a.jsx)(R.a,{padding:4,grow:2,children:(0,a.jsx)(W.o,{variant:"delta",textColor:"neutral600",textAlign:"center",children:r({id:u("IconPicker.emptyState.label"),defaultMessage:"No icon found"})})})})]})};Lt.defaultProps={value:""},Lt.propTypes={intlLabel:s.object.isRequired,name:s.string.isRequired,onChange:s.func.isRequired,value:s.string};const Nt=({description:e,error:t,intlLabel:n,modifiedData:i,name:r,onChange:l,value:d})=>{const{formatMessage:c}=(0,H.A)(),f=(0,M.useRef)(l),m=i?.displayName||"";(0,M.useEffect)(()=>{if(m){const T=(0,b.n)(m);try{const h=yt(T,2);f.current({target:{name:r,value:h}})}catch{f.current({target:{name:r,value:T}})}}else f.current({target:{name:r,value:""}})},[m,r]);const p=t?c({id:t,defaultMessage:t}):"",g=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=c(n);return(0,a.jsx)(ze.k,{error:p,label:x,id:r,hint:g,name:r,onChange:l,value:d||""})};Nt.defaultProps={description:null,error:null,value:null},Nt.propTypes={description:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}),error:s.string,intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,modifiedData:s.object.isRequired,name:s.string.isRequired,onChange:s.func.isRequired,value:s.string};const Et=({oneThatIsCreatingARelationWithAnother:e,target:t})=>{const{contentTypes:n,sortedContentTypesList:i}=Fe(),r=(0,Be.wA)(),l=i.filter(Ln),{plugin:d=null,schema:{displayName:c}={displayName:"error"}}=n?.[t]??{},f=({uid:m,plugin:p,title:g,restrictRelationsTo:x})=>()=>{const T=p?`${p}_${g}`:g;r({type:b.O,target:{value:m,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:T,targetContentTypeAllowedRelations:x}})};return(0,a.jsxs)(st.bL,{children:[(0,a.jsx)(Ur,{children:`${c} ${d?`(from: ${d})`:""}`}),(0,a.jsx)(st.UC,{zIndex:5,children:l.map(({uid:m,title:p,restrictRelationsTo:g,plugin:x})=>(0,a.jsxs)(st.q7,{onSelect:f({uid:m,plugin:x,title:p,restrictRelationsTo:g}),children:[p,"\xA0",x&&(0,a.jsxs)(a.Fragment,{children:["(from: ",x,")"]})]},m))})]})};Et.defaultProps={target:null},Et.propTypes={oneThatIsCreatingARelationWithAnother:s.string.isRequired,target:s.string};const Ur=(0,ve.Ay)(st.l9)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`,rt=({disabled:e,error:t,header:n,isMain:i,name:r,onChange:l,oneThatIsCreatingARelationWithAnother:d,target:c,value:f})=>(0,a.jsxs)(R.a,{background:"neutral100",hasRadius:!0,borderColor:"neutral200",children:[(0,a.jsx)($.s,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center",children:i?(0,a.jsx)(W.o,{variant:"pi",fontWeight:"bold",textColor:"neutral800",children:n}):(0,a.jsx)(Et,{target:c,oneThatIsCreatingARelationWithAnother:d})}),(0,a.jsx)(Me.c,{background:"neutral200"}),(0,a.jsx)(R.a,{padding:4,children:(0,a.jsx)(F.ah,{disabled:e,error:t?.id||null,intlLabel:{id:u("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:r,onChange:l,type:"text",value:f})})]});rt.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},rt.propTypes={disabled:s.bool,error:s.object,header:s.string,isMain:s.bool,name:s.string.isRequired,onChange:s.func,oneThatIsCreatingARelationWithAnother:s.string,target:s.string,value:s.string};const kr=(0,ve.Ay)(R.a)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,qr=(0,ve.Ay)(R.a)`
  background: ${({theme:e,isSelected:t})=>e.colors[t?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:t})=>e.colors[t?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,zr=(0,ve.Ay)($.s)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Zr={oneWay:yn.A,oneToOne:hn.A,oneToMany:fn.A,manyToOne:pn.A,manyToMany:mn.A,manyWay:gn.A},Ot=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:t,relationType:n,target:i})=>{const r=(0,Be.wA)(),{formatMessage:l}=(0,H.A)(),{contentTypes:d,modifiedData:c}=Fe(),f=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],m=["oneWay","manyWay"],g=(e==="contentType"?I(c,[e,"schema","kind"],""):e)==="collectionType"?f:m,x=n==="manyToOne",T=I(d,[i,"schema","displayName"],"unknown"),h=x?T:t,j=x?t:T,P=yt(h,n==="manyToMany"?2:1),C=I(d,[i,"schema","restrictRelationsTo"],null),S=yt(j,["manyToMany","oneToMany","manyToOne","manyWay"].includes(n)?2:1);return n?(0,a.jsxs)($.s,{style:{flex:1},children:[(0,a.jsx)(kr,{children:(0,a.jsx)($.s,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center",children:(0,a.jsx)(ge.r,{tagName:"button",children:(0,a.jsx)($.s,{gap:3,children:g.map(L=>{const D=Zr[L],k=C===null||C.includes(L);return(0,a.jsx)(qr,{as:"button",isSelected:n===L,disabled:!k,onClick:()=>{k&&r({type:b.a,target:{oneThatIsCreatingARelationWithAnother:t,targetContentType:i,value:L}})},padding:2,type:"button",children:(0,a.jsx)(D,{},L)},L)})})})})}),(0,a.jsxs)(zr,{justifyContent:"center",children:[(0,a.jsxs)(W.o,{children:[jn(P,{length:24}),"\xA0"]}),(0,a.jsxs)(W.o,{textColor:"primary600",children:[l({id:u(`relation.${n}`)}),"\xA0"]}),(0,a.jsx)(W.o,{children:jn(S,{length:24})})]})]}):null};Ot.defaultProps={relationType:null,target:null},Ot.propTypes={naturePickerType:s.string.isRequired,oneThatIsCreatingARelationWithAnother:s.string.isRequired,relationType:s.string,target:s.string};const Bn=({formErrors:e,mainBoxHeader:t,modifiedData:n,naturePickerType:i,onChange:r})=>{const l=(0,b.g)(n.relation,n.targetAttribute);return(0,a.jsxs)($.s,{style:{position:"relative"},children:[(0,a.jsx)(rt,{isMain:!0,header:t,error:e?.name||null,name:"name",onChange:r,value:n?.name||""}),(0,a.jsx)(Ot,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:t,relationType:l,target:n.target}),(0,a.jsx)(rt,{disabled:["oneWay","manyWay"].includes(l),error:e?.targetAttribute||null,name:"targetAttribute",onChange:r,oneThatIsCreatingARelationWithAnother:t,target:n.target,value:n?.targetAttribute||""})]})};Bn.propTypes={formErrors:s.object.isRequired,mainBoxHeader:s.string.isRequired,modifiedData:s.object.isRequired,naturePickerType:s.string.isRequired,onChange:s.func.isRequired};const It=({error:e,intlLabel:t,name:n,onChange:i,value:r})=>{const{formatMessage:l}=(0,H.A)(),{allComponentsCategories:d}=Fe(),[c,f]=(0,M.useState)(d),m=e?l({id:e,defaultMessage:e}):"",p=l(t),g=T=>{i({target:{name:n,value:T,type:"select-category"}})},x=T=>{f(h=>[...h,T]),g(T)};return(0,a.jsx)(ja.nP,{error:m,id:n,label:p,name:n,onChange:g,onCreateOption:x,value:r,children:c.map(T=>(0,a.jsx)(Ra.j,{value:T,children:T},T))})};It.defaultProps={error:null,value:null},It.propTypes={error:s.string,intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,name:s.string.isRequired,onChange:s.func.isRequired,value:s.string};const Pt=({error:e,intlLabel:t,isAddingAComponentToAnotherComponent:n,isCreating:i,isCreatingComponentWhileAddingAField:r,componentToCreate:l,name:d,onChange:c,targetUid:f,forTarget:m,value:p})=>{const{formatMessage:g}=(0,H.A)(),x=e?g({id:e,defaultMessage:e}):"",T=g(t),{componentsGroupedByCategory:h,componentsThatHaveOtherComponentInTheirAttributes:j}=Fe(),P=["component","components"].includes(m);let C=Object.entries(h).reduce((S,L)=>{const[D,k]=L,Q=k.map(J=>({uid:J.uid,label:J.schema.displayName,categoryName:D}));return[...S,...Q]},[]);return n&&(C=C.filter(S=>!j.includes(S.uid))),P&&(C=C.filter(S=>S.uid!==f)),r&&(C=[{uid:p,label:l.displayName,categoryName:l.category}]),(0,a.jsx)($e.l,{disabled:r||!i,error:x,label:T,id:d,name:d,onChange:S=>{c({target:{name:d,value:S,type:"select-category"}})},value:p||"",children:C.map(S=>(0,a.jsx)(Re.c,{value:S.uid,children:`${S.categoryName} - ${S.label}`},S.uid))})};Pt.defaultProps={componentToCreate:null,error:null},Pt.propTypes={componentToCreate:s.object,forTarget:s.string.isRequired,error:s.string,intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,isAddingAComponentToAnotherComponent:s.bool.isRequired,isCreating:s.bool.isRequired,isCreatingComponentWhileAddingAField:s.bool.isRequired,name:s.string.isRequired,onChange:s.func.isRequired,targetUid:s.string.isRequired,value:s.string.isRequired};const Wn=({dynamicZoneTarget:e,intlLabel:t,name:n,onChange:i,value:r})=>{const{formatMessage:l}=(0,H.A)(),{componentsGroupedByCategory:d,modifiedData:c}=Fe(),m=(bt(c.contentType.schema.attributes,e)||{}).components||[],p=Object.keys(d).reduce((T,h)=>{const j=d[h].filter(({uid:P})=>!m.includes(P));return j.length>0&&(T[h]=j),T},{}),g=Object.entries(p).reduce((T,h)=>{const[j,P]=h,C={label:j,children:P.map(({uid:S,schema:{displayName:L}})=>({label:L,value:S}))};return T.push(C),T},[]),x=l({id:u("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:r?.length??0});return(0,a.jsx)(Oe.B,{id:"select1",label:l(t),customizeContent:()=>x,name:n,onChange:T=>{i({target:{name:n,value:T,type:"select-components"}})},options:g,value:r||[]})};Wn.propTypes={intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,dynamicZoneTarget:s.string.isRequired,name:s.string.isRequired,onChange:s.func.isRequired,value:s.array.isRequired};const Dt=({intlLabel:e,error:t,modifiedData:n,name:i,onChange:r,options:l,value:d})=>{const{formatMessage:c}=(0,H.A)(),f=c(e),m=t?c({id:t,defaultMessage:t}):"",p=g=>{r({target:{name:i,value:g,type:"select"}}),d&&n.default!==void 0&&n.default!==null&&r({target:{name:"default",value:null}})};return(0,a.jsx)($e.l,{error:m,label:f,id:i,name:i,onChange:p,value:d||"",children:l.map(({metadatas:{intlLabel:g,disabled:x,hidden:T},key:h,value:j})=>(0,a.jsx)(Re.c,{value:j,disabled:x,hidden:T,children:c({id:g.id,defaultMessage:g.defaultMessage},g.values)},h))})};Dt.defaultProps={error:void 0,value:""},Dt.propTypes={error:s.string,intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,modifiedData:s.object.isRequired,name:s.string.isRequired,onChange:s.func.isRequired,options:s.arrayOf(s.shape({metadatas:s.shape({intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired}).isRequired,disabled:s.bool,hidden:s.bool}).isRequired,key:s.oneOfType([s.string,s.number]).isRequired,value:s.oneOfType([s.string,s.number]).isRequired}).isRequired).isRequired,value:s.string};const wt=({intlLabel:e,error:t,modifiedData:n,name:i,onChange:r,options:l,value:d})=>{const{formatMessage:c}=(0,H.A)(),f=c(e),m=t?c({id:t,defaultMessage:t}):"",p=g=>{r({target:{name:i,value:g,type:"select"}}),d&&(g==="biginteger"&&d!=="biginteger"&&(n.default!==void 0&&n.default!==null&&r({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&r({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&r({target:{name:"min",value:null}})),["decimal","float","integer"].includes(g)&&d==="biginteger"&&(n.default!==void 0&&n.default!==null&&r({target:{name:"default",value:null}}),n.max!==void 0&&n.max!==null&&r({target:{name:"max",value:null}}),n.min!==void 0&&n.min!==null&&r({target:{name:"min",value:null}})))};return(0,a.jsx)($e.l,{error:m,label:f,id:i,name:i,onChange:p,value:d||"",children:l.map(({metadatas:{intlLabel:g,disabled:x,hidden:T},key:h,value:j})=>(0,a.jsx)(Re.c,{value:j,disabled:x,hidden:T,children:c(g)},h))})};wt.defaultProps={error:void 0,value:""},wt.propTypes={error:s.string,intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,modifiedData:s.object.isRequired,name:s.string.isRequired,onChange:s.func.isRequired,options:s.arrayOf(s.shape({metadatas:s.shape({intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired}).isRequired,disabled:s.bool,hidden:s.bool}).isRequired,key:s.oneOfType([s.string,s.number]).isRequired,value:s.oneOfType([s.string,s.number]).isRequired}).isRequired).isRequired,value:s.string};const $t=({description:e,error:t,intlLabel:n,modifiedData:i,name:r,onChange:l,value:d})=>{const{formatMessage:c}=(0,H.A)(),f=(0,M.useRef)(l),m=i?.displayName||"";(0,M.useEffect)(()=>{m?f.current({target:{name:r,value:(0,b.n)(m)}}):f.current({target:{name:r,value:""}})},[m,r]);const p=t?c({id:t,defaultMessage:t}):"",g=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=c(n);return(0,a.jsx)(ze.k,{error:p,label:x,id:r,hint:g,name:r,onChange:l,value:d||""})};$t.defaultProps={description:null,error:null,value:null},$t.propTypes={description:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}),error:s.string,intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,modifiedData:s.object.isRequired,name:s.string.isRequired,onChange:s.func.isRequired,value:s.string};const Bt=({form:e,formErrors:t,genericInputProps:n,modifiedData:i,onChange:r})=>{const{formatMessage:l}=(0,H.A)();return e.map((d,c)=>d.items.length===0?null:(0,a.jsxs)(R.a,{children:[d.sectionTitle&&(0,a.jsx)(R.a,{paddingBottom:4,children:(0,a.jsx)(W.o,{variant:"delta",as:"h3",children:l(d.sectionTitle)})}),(0,a.jsx)(Ke.x,{gap:4,children:d.items.map((f,m)=>{const p=`${c}.${m}`,g=I(i,f.name,void 0),x=Object.keys(t).find(h=>h===f.name),T=x?t[x].id:I(t,[...f.name.split(".").filter(h=>h!=="componentToCreate"),"id"],null);return f.type==="pushRight"?(0,a.jsx)(qe.E,{col:f.size||6,children:(0,a.jsx)("div",{})},f.name||p):(0,a.jsx)(qe.E,{col:f.size||6,children:(0,a.jsx)(F.ah,{...f,...n,error:T,onChange:r,value:g})},f.name||p)})})]},c))};Bt.propTypes={form:s.arrayOf(s.object).isRequired,formErrors:s.object.isRequired,genericInputProps:s.object.isRequired,modifiedData:s.object.isRequired,onChange:s.func.isRequired};const Wt=({description:e,disabled:t,error:n,intlLabel:i,labelAction:r,name:l,onChange:d,placeholder:c,value:f})=>{const{formatMessage:m}=(0,H.A)(),p=n?m({id:n,defaultMessage:n}):"",g=e?m({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=m(i),T=c?m({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",h=Array.isArray(f)?f.join(`
`):"",j=P=>{const C=P.target.value.split(`
`);d({target:{name:l,value:C}})};return(0,a.jsx)(Sa.T,{disabled:t,error:p,label:x,labelAction:r,id:l,hint:g,name:l,onChange:j,placeholder:T,value:h,children:h})};Wt.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Wt.propTypes={description:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}),disabled:s.bool,error:s.string,intlLabel:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}).isRequired,labelAction:s.element,name:s.string.isRequired,onChange:s.func.isRequired,placeholder:s.shape({id:s.string.isRequired,defaultMessage:s.string.isRequired,values:s.object}),value:s.oneOfType([s.array,s.string])};const je={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:u("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Vr={sections:[{sectionTitle:null,items:[je]}]},Ut={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:u("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:u("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:u("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:u("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},Un=/^[A-Za-z][-_0-9A-Za-z]*$/,Hr=e=>{const t={name:A.Yj().matches(Un,F.iW.regex).test({name:"nameNotAllowed",message:F.iW.unique,test(n){return n?!e.includes(n?.toLowerCase()):!1}}).required(F.iW.required)};return A.Ik(t)},Yr={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:u("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Gr=(e,t,n)=>{const i={displayName:A.Yj().test({name:"nameAlreadyUsed",message:F.iW.unique,test(r){if(!r)return!1;const l=(0,b.c)(r,n);return!e.includes(l)}}).test({name:"nameNotAllowed",message:u("error.contentTypeName.reserved-name"),test(r){return r?!t.includes(r?.trim()?.toLowerCase()):!1}}).required(F.iW.required),category:A.Yj().matches(Un,F.iW.regex).required(F.iW.required),icon:A.Yj()};return A.Ik(i)},Ze={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:u("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:u("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:u("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},E={default:{name:"default",type:"text",intlLabel:{id:u("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:u("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:u("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:u("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:u("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:u("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:u("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:u("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:u("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:u("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:u("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:u("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:u("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},kn={advanced:{blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:u("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.private]}]}},component({repeatable:e},t){return t==="1"?{sections:Ze.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.private,E.max,E.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...E.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.unique,E.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.max,E.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...E.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.unique,E.maxLength,E.minLength,E.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:u("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((t,n)=>e.enum.indexOf(t)===n&&t).map(t=>({key:t,value:t,metadatas:{intlLabel:{id:`${t}.no-override`,defaultMessage:t}}}))]},{intlLabel:{id:u("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:u("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:u("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.private]}]}},number(e){const t=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:t,intlLabel:{id:u("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.unique,E.max,E.min,E.private]}]}},password(){return{sections:[{sectionTitle:null,items:[E.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.maxLength,E.minLength,E.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[E.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.maxLength,E.minLength,E.private]}]}},text(){return{sections:[{sectionTitle:null,items:[E.default,E.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.unique,E.maxLength,E.minLength,E.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...E.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[E.required,E.maxLength,E.minLength,E.private]}]}}},base:{component(e,t){if(t==="1"){const n=e.createComponent===!0?Ze.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Ut]},...n]}}return{sections:[{sectionTitle:null,items:[je,{name:"component",type:"select-component",intlLabel:{id:u("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:u("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:u("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:u("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:u("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[je,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:u("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:u("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:u("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[je]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:u("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:u("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[je]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:u("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:u("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:u("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:u("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[je,{intlLabel:{id:u("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:u("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:u("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:u("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:u("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[je]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:u("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:u("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:u("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:u("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[je]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:u("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:u("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:u("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:u("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,t,n){const i=n.filter(({type:r})=>["string","text"].includes(r)).map(({name:r})=>({key:r,value:r,metadatas:{intlLabel:{id:`${r}.no-override`,defaultMessage:r}}}));return{sections:[{sectionTitle:null,items:[{...je,placeholder:{id:u("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:u("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}},kt=e=>Tr(e,{decamelize:!1,lowercase:!1,separator:"_"}),qn=/^[A-Za-z][_0-9A-Za-z]*$/,zn=e=>({name:"attributeNameAlreadyUsed",message:F.iW.unique,test(t){return t?!e.includes(t):!1}}),qt=e=>({name:"forbiddenAttributeName",message:u("error.attributeName.reserved-name"),test(t){return t?!e.includes(t):!1}}),y={default:()=>A.Yj().nullable(),max:()=>A.ai().integer().nullable(),min:()=>A.ai().integer().when("max",(e,t)=>e?t.max(e,u("error.validation.minSupMax")):t).nullable(),maxLength:()=>A.ai().integer().positive(u("error.validation.positive")).nullable(),minLength:()=>A.ai().integer().min(0).when("maxLength",(e,t)=>e?t.max(e,u("error.validation.minSupMax")):t).nullable(),name(e,t){return A.Yj().test(zn(e)).test(qt(t)).matches(qn,F.iW.regex).required(F.iW.required)},required:()=>A.zM(),type:()=>A.Yj().required(F.iW.required),unique:()=>A.zM().nullable()},zt=(e,t)=>({name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength(),regex:A.Yj().test({name:"isValidRegExpPattern",message:u("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),Zt={name:"isMinSuperiorThanMax",message:u("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:t}=this.parent;return!t||Number.isNaN(vt(e))?!0:vt(t)>=vt(e)}},Vt={date(e,t){const n={name:y.name(e,t),type:y.type()};return A.Ik(n)},datetime(e,t){const n={name:y.name(e,t),type:y.type()};return A.Ik(n)},time(e,t){const n={name:y.name(e,t),type:y.type()};return A.Ik(n)},default(e,t){const n={name:y.name(e,t),type:y.type()};return A.Ik(n)},biginteger(e,t){const n={name:y.name(e,t),type:y.type(),default:A.Yj().nullable().matches(/^-?\d*$/),unique:y.unique(),required:y.required(),max:A.Yj().nullable().matches(/^-?\d*$/,F.iW.regex),min:A.Yj().nullable().test(Zt).matches(/^-?\d*$/,F.iW.regex)};return A.Ik(n)},boolean(e,t){const n={name:y.name(e,t),default:A.zM().nullable(),required:y.required(),unique:y.unique()};return A.Ik(n)},component(e,t){const n={name:y.name(e,t),type:y.type(),required:y.required(),max:y.max(),min:y.min(),component:A.Yj().required(F.iW.required)};return A.Ik(n)},decimal(e,t){const n={name:y.name(e,t),type:y.type(),default:A.ai(),required:y.required(),max:A.ai(),min:A.ai().test(Zt)};return A.Ik(n)},dynamiczone(e,t){const n={name:y.name(e,t),type:y.type(),required:y.required(),max:y.max(),min:y.min()};return A.Ik(n)},email(e,t){const n={name:y.name(e,t),type:y.type(),default:A.Yj().email().nullable(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return A.Ik(n)},enumeration(e,t){const n=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:A.Yj().test(zn(e)).test(qt(t)).matches(n,F.iW.regex).required(F.iW.required),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),enum:A.YO().of(A.Yj()).min(1,F.iW.min).test({name:"areEnumValuesUnique",message:u("error.validation.enum-duplicate"),test(r){return!Ar(r.map(kt).filter((d,c,f)=>f.indexOf(d)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:u("error.validation.enum-empty-string"),test:r=>!r.map(kt).some(l=>l==="")}).test({name:"doesMatchRegex",message:u("error.validation.enum-regex"),test:r=>r.map(kt).every(l=>n.test(l))}),enumName:A.Yj().nullable()};return A.Ik(i)},float(e,t){const n={name:y.name(e,t),type:y.type(),required:y.required(),default:A.ai(),max:A.ai(),min:A.ai().test(Zt)};return A.Ik(n)},integer(e,t){const n={name:y.name(e,t),type:y.type(),default:A.ai().integer(),unique:y.unique(),required:y.required(),max:y.max(),min:y.min()};return A.Ik(n)},json(e,t){const n={name:y.name(e,t),type:y.type(),required:y.required(),unique:y.unique()};return A.Ik(n)},media(e,t){const n={name:y.name(e,t),type:y.type(),multiple:A.zM(),required:y.required(),allowedTypes:A.YO().of(A.Yj().oneOf(["images","videos","files","audios"])).min(1).nullable()};return A.Ik(n)},password(e,t){const n={name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return A.Ik(n)},relation(e,t,n,{initialData:i,modifiedData:r}){const l={name:y.name(e,t),target:A.Yj().required(F.iW.required),relation:A.Yj().required(),type:A.Yj().required(),targetAttribute:A.RZ(()=>{const d=(0,b.g)(r.relation,r.targetAttribute);if(d==="oneWay"||d==="manyWay")return A.Yj().nullable();let c=A.Yj().test(qt(t)),m=[...n.map(({name:p})=>p),r.name].filter(p=>p!==i.targetAttribute);return c.matches(qn,F.iW.regex).test({name:"forbiddenTargetAttributeName",message:u("error.validation.relation.targetAttribute-taken"),test(p){return p?!m.includes(p):!1}}).required(F.iW.required)})};return A.Ik(l)},richtext(e,t){const n={name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return A.Ik(n)},blocks(e,t){const n={name:y.name(e,t),type:y.type(),default:y.default(),unique:y.unique(),required:y.required(),maxLength:y.maxLength(),minLength:y.minLength()};return A.Ik(n)},string(e,t){const n=zt(e,t);return A.Ik(n)},text(e,t){const n=zt(e,t);return A.Ik(n)},uid(e,t){const n=zt(e,t);return A.Ik(n)}},Kr=({usedContentTypeNames:e=[],reservedModels:t=[],singularNames:n=[],pluralNames:i=[],collectionNames:r=[]})=>{const l={displayName:A.Yj().test({name:"nameAlreadyUsed",message:F.iW.unique,test(d){if(!d)return!1;const c=(0,b.b)(d);return!e.includes(c)}}).test({name:"nameNotAllowed",message:u("error.contentTypeName.reserved-name"),test(d){return d?!t.includes(d?.trim()?.toLowerCase()):!1}}).required(F.iW.required),pluralName:A.Yj().test({name:"pluralNameAlreadyUsed",message:F.iW.unique,test(d){return d?!i.includes(d):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:u("error.contentType.pluralName-equals-singularName"),test(d){return d?!n.includes(d):!1}}).test({name:"pluralAndSingularAreUnique",message:u("error.contentType.pluralName-used"),test(d,c){return d?c.parent.singularName!==d:!1}}).test({name:"pluralNameNotAllowed",message:u("error.contentTypeName.reserved-name"),test(d){return d?!t.includes(d?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:u("error.contentType.pluralName-equals-collectionName"),test(d){return d?!r.includes(d?.trim()?.toLowerCase()):!1}}).required(F.iW.required),singularName:A.Yj().test({name:"singularNameAlreadyUsed",message:F.iW.unique,test(d){return d?!n.includes(d):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:u("error.contentType.singularName-equals-pluralName"),test(d){return d?!i.includes(d):!1}}).test({name:"pluralAndSingularAreUnique",message:u("error.contentType.singularName-used"),test(d,c){return d?c.parent.pluralName!==d:!1}}).test({name:"singularNameNotAllowed",message:u("error.contentTypeName.reserved-name"),test(d){return d?!t.includes(d?.trim()?.toLowerCase()):!1}}).required(F.iW.required),draftAndPublish:A.zM(),kind:A.Yj().oneOf(["singleType","collectionType"]),reviewWorkflows:A.zM()};return A.Ik(l)},Zn={name:"displayName",type:"text",intlLabel:{id:u("contentType.displayName.label"),defaultMessage:"Display name"}},Ht={advanced:{default(){return{sections:[{items:[{intlLabel:{id:u("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:u("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Zn,{description:{id:u("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:u("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:u("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:u("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Zn,{disabled:!0,description:{id:u("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:u("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:u("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:u("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:u("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:u("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:u("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:u("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Yt={advanced:{default(){return{sections:Ze.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Ut]},...Ze.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Ut]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:u("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Vn=(e,t)=>{e.forEach(n=>{if(!("sectionTitle"in n)){t[0].items.push(n);return}t.push(n)})},Hn=(e,t)=>e.filter(({name:n})=>n!==t.initialData.name).map(({name:n})=>n),Pe={customField:{schema({schemaAttributes:e,attributeType:t,customFieldValidator:n,reservedNames:i,schemaData:r,ctbFormsAPI:l}){const d=Hn(e,r),c=Vt[t](d,i.attributes);return l.makeCustomFieldValidator(c,n,d,i.attributes,r)},form:{base({customField:e}){const t=[{sectionTitle:null,items:[je]}];return e.options?.base&&Vn(e.options.base,t),{sections:t}},advanced({customField:e,data:t,step:n,extensions:i,...r}){const l=[{sectionTitle:null,items:[]}],d=i.getAdvancedForm(["attribute",e.type],{data:t,type:e.type,step:n,...r});if(e.options?.advanced&&Vn(e.options.advanced,l),d){const c={sectionTitle:{id:u("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:d};l.push(c)}return{sections:l}}}},attribute:{schema(e,t,n,i,r,l){const d=e?.schema?.attributes??[],c=Hn(d,r);try{let f=Vt[t](c,n.attributes,i,r);return l.makeValidator(["attribute",t],f,c,n.attributes,i,r)}catch(f){return console.error("Error yup build schema",f),Vt.default(c,n.attributes)}},form:{advanced({data:e,type:t,step:n,extensions:i,...r}){try{const l=kn.advanced[t](e,n).sections,d=i.getAdvancedForm(["attribute",t],{data:e,type:t,step:n,...r});return{sections:l.reduce((f,m)=>(m.sectionTitle===null?f.push(m):f.push({...m,items:[...m.items,...d]}),f),[])}}catch(l){return console.error(l),{sections:[]}}},base({data:e,type:t,step:n,attributes:i}){try{return kn.base[t](e,n,i)}catch{return Vr}}}},contentType:{schema(e,t,n,i,r,l){const d=Object.values(l).map(h=>h.schema.singularName),c=Object.values(l).map(h=>h?.schema?.pluralName??""),f=t?e.filter(h=>h!==n):e,m=t?d.filter(h=>{const{schema:j}=l[n];return j.singularName!==h}):d,p=t?c.filter(h=>{const{schema:j}=l[n];return j.pluralName!==h}):c,g=Object.values(l).map(h=>h?.schema?.collectionName??""),x=t?g.filter(h=>{const{schema:j}=l[n],P=j.pluralName,C=j.collectionName;return h!==P||h!==C}):g,T=Kr({usedContentTypeNames:f,reservedModels:i.models,singularNames:m,pluralNames:p,collectionNames:x});return r.makeValidator(["contentType"],T,f,i.models,m,p)},form:{base({actionType:e}){return e==="create"?Ht.base.create():Ht.base.edit()},advanced({extensions:e}){const t=Ht.advanced.default().sections.map(i=>i.items).flat(),n=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...t,...n]}]}}}},component:{schema(e,t,n,i=!1,r=null){const l=i?e.filter(d=>d!==r):e;return Gr(l,n.models,t)},form:{advanced(){return{sections:Ze.advanced()}},base(){return{sections:Ze.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Yt.advanced.default()},base({data:e}){return e?.createComponent??!1?Yt.base.createComponent():Yt.base.default()}}},editCategory:{schema(e,t){const n=e.filter(i=>i!==t.name).map(i=>i.toLowerCase());return Hr(n)},form:{advanced:()=>({sections:[]}),base(){return Yr.base}}}};var ot="NOT_FOUND";function Qr(e){var t;return{get:function(i){return t&&e(t.key,i)?t.value:ot},put:function(i,r){t={key:i,value:r}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function Xr(e,t){var n=[];function i(c){var f=n.findIndex(function(p){return t(c,p.key)});if(f>-1){var m=n[f];return f>0&&(n.splice(f,1),n.unshift(m)),m.value}return ot}function r(c,f){i(c)===ot&&(n.unshift({key:c,value:f}),n.length>e&&n.pop())}function l(){return n}function d(){n=[]}return{get:i,put:r,getEntries:l,clear:d}}var Jr=function(t,n){return t===n};function _r(e){return function(n,i){if(n===null||i===null||n.length!==i.length)return!1;for(var r=n.length,l=0;l<r;l++)if(!e(n[l],i[l]))return!1;return!0}}function eo(e,t){var n=typeof t=="object"?t:{equalityCheck:t},i=n.equalityCheck,r=i===void 0?Jr:i,l=n.maxSize,d=l===void 0?1:l,c=n.resultEqualityCheck,f=_r(r),m=d===1?Qr(f):Xr(d,f);function p(){var g=m.get(arguments);if(g===ot){if(g=e.apply(null,arguments),c){var x=m.getEntries(),T=x.find(function(h){return c(h.value,g)});T&&(g=T.value)}m.put(arguments,g)}return g}return p.clearCache=function(){return m.clear()},p}function to(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(i){return typeof i=="function"})){var n=t.map(function(i){return typeof i=="function"?"function "+(i.name||"unnamed")+"()":typeof i}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function no(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=function(){for(var d=arguments.length,c=new Array(d),f=0;f<d;f++)c[f]=arguments[f];var m=0,p,g={memoizeOptions:void 0},x=c.pop();if(typeof x=="object"&&(g=x,x=c.pop()),typeof x!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof x+"]");var T=g,h=T.memoizeOptions,j=h===void 0?n:h,P=Array.isArray(j)?j:[j],C=to(c),S=e.apply(void 0,[function(){return m++,x.apply(null,arguments)}].concat(P)),L=e(function(){for(var k=[],Q=C.length,J=0;J<Q;J++)k.push(C[J].apply(null,arguments));return p=S.apply(null,k),p});return Object.assign(L,{resultFunc:x,memoizedResultFunc:S,dependencies:C,lastResult:function(){return p},recomputations:function(){return m},resetRecomputations:function(){return m=0}}),L};return r}var Yn=no(eo),Gn=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(i[l]=r[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ao=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,r,l,d;return d={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function c(m){return function(p){return f([m,p])}}function f(m){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(l=m[0]&2?r.return:m[0]?r.throw||((l=r.return)&&l.call(r),0):r.next)&&!(l=l.call(r,m[1])).done)return l;switch(r=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,r=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(p){m=[6,p],r=0}finally{i=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},lt=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e},so=Object.defineProperty,io=Object.defineProperties,ro=Object.getOwnPropertyDescriptors,Kn=Object.getOwnPropertySymbols,oo=Object.prototype.hasOwnProperty,lo=Object.prototype.propertyIsEnumerable,Qn=function(e,t,n){return t in e?so(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_e=function(e,t){for(var n in t||(t={}))oo.call(t,n)&&Qn(e,n,t[n]);if(Kn)for(var i=0,r=Kn(t);i<r.length;i++){var n=r[i];lo.call(t,n)&&Qn(e,n,t[n])}return e},Gt=function(e,t){return io(e,ro(t))},uo=function(e,t,n){return new Promise(function(i,r){var l=function(f){try{c(n.next(f))}catch(m){r(m)}},d=function(f){try{c(n.throw(f))}catch(m){r(m)}},c=function(f){return f.done?i(f.value):Promise.resolve(f.value).then(l,d)};c((n=n.apply(e,t)).next())})};function Ve(e,t){function n(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(t){var l=t.apply(void 0,i);if(!l)throw new Error("prepareAction did not return an object");return _e(_e({type:e,payload:l.payload},"meta"in l&&{meta:l.meta}),"error"in l&&{error:l.error})}return{type:e,payload:i[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(i){return i.type===e},n}(function(e){Gn(t,e);function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,lt([void 0],n[0].concat(this)))):new(t.bind.apply(t,lt([void 0],n.concat(this))))},t})(Array),function(e){Gn(t,e);function t(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=e.apply(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,lt([void 0],n[0].concat(this)))):new(t.bind.apply(t,lt([void 0],n.concat(this))))},t}(Array);var co="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mo=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=co[Math.random()*64|0];return t},po=["name","message","stack","code"],Kt=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Xn=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),go=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,i=po;n<i.length;n++){var r=i[n];typeof e[r]=="string"&&(t[r]=e[r])}return t}return{message:String(e)}};(function(){function e(t,n,i){var r=Ve(t+"/fulfilled",function(p,g,x,T){return{payload:p,meta:Gt(_e({},T||{}),{arg:x,requestId:g,requestStatus:"fulfilled"})}}),l=Ve(t+"/pending",function(p,g,x){return{payload:void 0,meta:Gt(_e({},x||{}),{arg:g,requestId:p,requestStatus:"pending"})}}),d=Ve(t+"/rejected",function(p,g,x,T,h){return{payload:T,error:(i&&i.serializeError||go)(p||"Rejected"),meta:Gt(_e({},h||{}),{arg:x,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"})}}),c=!1,f=typeof AbortController<"u"?AbortController:function(){function p(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return p.prototype.abort=function(){},p}();function m(p){return function(g,x,T){var h=i?.idGenerator?i.idGenerator(p):mo(),j=new f,P;function C(L){P=L,j.abort()}var S=function(){return uo(this,null,function(){var L,D,k,Q,J,w,ae;return ao(this,function(z){switch(z.label){case 0:return z.trys.push([0,4,,5]),Q=(L=i?.condition)==null?void 0:L.call(i,p,{getState:x,extra:T}),ho(Q)?[4,Q]:[3,2];case 1:Q=z.sent(),z.label=2;case 2:if(Q===!1||j.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return J=new Promise(function(G,K){return j.signal.addEventListener("abort",function(){return K({name:"AbortError",message:P||"Aborted"})})}),g(l(h,p,(D=i?.getPendingMeta)==null?void 0:D.call(i,{requestId:h,arg:p},{getState:x,extra:T}))),[4,Promise.race([J,Promise.resolve(n(p,{dispatch:g,getState:x,extra:T,requestId:h,signal:j.signal,abort:C,rejectWithValue:function(G,K){return new Kt(G,K)},fulfillWithValue:function(G,K){return new Xn(G,K)}})).then(function(G){if(G instanceof Kt)throw G;return G instanceof Xn?r(G.payload,h,p,G.meta):r(G,h,p)})])];case 3:return k=z.sent(),[3,5];case 4:return w=z.sent(),k=w instanceof Kt?d(null,h,p,w.payload,w.meta):d(w,h,p),[3,5];case 5:return ae=i&&!i.dispatchConditionRejection&&d.match(k)&&k.meta.condition,ae||g(k),[2,k]}})})}();return Object.assign(S,{abort:C,requestId:h,arg:p,unwrap:function(){return S.then(fo)}})}}return Object.assign(m,{pending:l,rejected:d,fulfilled:r,typePrefix:t})}return e.withTypes=function(){return e},e})();function fo(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function ho(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Qt="listenerMiddleware";Ve(Qt+"/add"),Ve(Qt+"/removeAll"),Ve(Qt+"/remove");var Jn;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis),(0,Mr.rF)();const yo=()=>e=>e[`${b.p}_formModal`]||b.i,vo=()=>Yn(yo(),e=>e),bo=(e,t)=>{const n=I(e,["contentType","schema","kind"],"");return n==="singleType"||n===t.kind?!0:I(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:d,targetAttribute:c})=>{const f=(0,b.g)(l,c);return d==="relation"&&!["oneWay","manyWay"].includes(f)}).length===0},xo=(e="",t,n)=>{const i=["text","boolean","blocks","json","number","email","date","password","media","enumeration","relation","richtext"],r=e==="contentType",l=n.includes(t),d=!r&&!l;return r?[[...i.slice(0,-1),"uid",...i.slice(-1)],["component","dynamiczone"]]:d?[i,["component"]]:[i]},_n=e=>e.reduce((t,n)=>{const i=n.items.reduce((r,l)=>(l.name&&r.push(l.name),r),[]);return[...t,...i]},[]),Co=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:t,onNavigateToAddCompoToDZModal:n,onNavigateToCreateComponentStep2:i,actionType:r,attributeName:l,attributeType:d,customFieldUid:c,categoryName:f,dynamicZoneTarget:m,forTarget:p,modalType:g,isOpen:x,showBackLink:T,kind:h,step:j,targetUid:P}=We(),C=(0,F.AC)().get(c),S=(0,M.useRef)(),L=(0,M.useMemo)(vo,[]),D=(0,Be.wA)(),k=(0,F.hN)(),Q=(0,Be.d4)(U=>L(U),Be.bN),{push:J}=(0,ce.W6)(),{trackUsage:w}=(0,F.z1)(),{formatMessage:ae}=(0,H.A)(),{getPlugin:z}=(0,F.vD)(),K=z(b.p).apis.forms,_=K.components.inputs,{addAttribute:Le,addCustomFieldAttribute:re,addCreatedComponentToDynamicZone:Y,allComponentsCategories:N,changeDynamicZoneComponents:Xt,contentTypes:He,components:tt,createSchema:Ye,deleteCategory:Jt,deleteData:ut,editCategory:_t,editCustomFieldAttribute:en,submitData:tn,modifiedData:oe,nestedComponents:nn,setModifiedData:an,sortedContentTypesList:sn,updateSchema:ct,reservedNames:De}=Fe(),{componentToCreate:nt,formErrors:Ne,initialData:se,isCreatingComponentWhileAddingAField:at,modifiedData:v}=Q,O=p==="contentType"||p==="component"?[p]:[p,P];(0,M.useEffect)(()=>{if(x){const U=sn.filter(Ln);g==="editCategory"&&an(),r==="edit"&&g==="attribute"&&p==="contentType"&&w("willEditFieldOfContentType");const pe=[...O,"schema","attributes"],xe=bt(I(oe,pe,[]),m)||null;if(g==="editCategory"&&r==="edit"&&D({type:b.S,modalType:g,actionType:r,data:{name:f}}),g==="contentType"&&r==="create"&&D({type:b.S,modalType:g,actionType:r,data:{draftAndPublish:!0},pluginOptions:{}}),g==="contentType"&&r==="edit"){const{displayName:Z,draftAndPublish:ie,kind:Ce,pluginOptions:de,pluralName:el,reviewWorkflows:tl,singularName:nl}=I(oe,[...O,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});D({type:b.S,actionType:r,modalType:g,data:{displayName:Z,draftAndPublish:ie,kind:Ce,pluginOptions:de,pluralName:el,reviewWorkflows:tl??!1,singularName:nl}})}if(g==="component"&&r==="edit"){const Z=I(oe,O,{});D({type:b.S,actionType:r,modalType:g,data:{displayName:Z.schema.displayName,category:Z.category,icon:Z.schema.icon}})}if(g==="addComponentToDynamicZone"&&r==="edit"){const Z={...xe,components:[],name:m,createComponent:!1,componentToCreate:{type:"component"}};D({type:b.d,attributeToEdit:Z})}if(d){const ie={...bt(I(oe,pe,[]),l),name:l};d==="component"&&r==="edit"&&(ie.repeatable||An(ie,"repeatable",!1)),D(g==="customField"?{type:b.e,customField:C,isEditing:r==="edit",modifiedDataToSetForEditing:ie,forTarget:p}:{type:b.f,attributeType:d,nameToSetForRelation:I(U,["0","title"],"error"),targetUid:I(U,["0","uid"],"error"),isEditing:r==="edit",modifiedDataToSetForEditing:ie,step:j,forTarget:p})}}else D({type:b.R})},[r,l,d,f,m,p,x,g]);const B=g==="contentType",ne=g==="component",le=g==="attribute",me=g==="customField",Ee=d==="component"&&le,ke=r==="create",we=I(v,"createComponent",!1)||at,Ge=j==="1",ca=g==="editCategory",ma=g==="chooseAttribute",rn=(0,b.b)(v.displayName||""),on=I(oe,[...O,"schema","attributes"],null),Uo=async()=>{let U;const pe=we&&j==="1"?I(v,"componentToCreate",{}):v;if(B)U=Pe.contentType.schema(Object.keys(He),r==="edit",I(oe,[...O,"uid"],null),De,K,He);else if(ne)U=Pe.component.schema(Object.keys(tt),v.category||"",De,r==="edit",I(oe,[...O,"uid"],null),K);else if(me)U=Pe.customField.schema({schemaAttributes:I(oe,[...O,"schema","attributes"],[]),attributeType:C.type,reservedNames:De,schemaData:{modifiedData:v,initialData:se},ctbFormsAPI:K,customFieldValidator:C.options?.validator});else if(Ee&&we&&Ge)U=Pe.component.schema(Object.keys(tt),I(v,"componentToCreate.category",""),De,K);else if(le&&!Ge){const xe=d==="relation"?"relation":v.type;let Z=[];if(xe==="relation"){const ie=I(v,["target"],null);Z=I(He,[ie,"schema","attributes"],[]).filter(({name:de})=>r!=="edit"?!0:de!==se.targetAttribute)}U=Pe.attribute.schema(I(oe,O,{}),xe,De,Z,{modifiedData:v,initialData:se},K)}else if(ca)U=Pe.editCategory.schema(N,se,K);else if(Ge&&we)U=Pe.component.schema(Object.keys(tt),I(v,"componentToCreate.category",""),De,K);else return;await U.validate(pe,{abortEarly:!1})},pa=(0,M.useCallback)(({target:{name:U,value:pe,type:xe,...Z}})=>{const ie=["enumName","max","min","maxLength","minLength","regex","default"];let Ce;ie.includes(U)&&pe===""?Ce=null:Ce=pe;const de=Object.assign({},Ne);U==="max"&&delete de.min,U==="maxLength"&&delete de.minLength,delete de[U],D({type:b.h,errors:de}),D({type:b.j,keys:U.split("."),value:Ce,...Z})},[D,Ne]),be=async(U,pe=ke)=>{U.preventDefault();try{await Uo(),zo(pe);const xe=p==="components"?P:rn;if(B)if(ke)Ye({...v,kind:h},g,rn),J({pathname:`/plugins/${b.p}/content-types/${rn}`}),t({forTarget:p,targetUid:xe});else{bo(oe,v)?(e(),tn(v)):k({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(g==="component")if(ke){const Z=(0,b.c)(v.displayName,v.category),{category:ie,...Ce}=v;Ye(Ce,"component",Z,ie),J({pathname:`/plugins/${b.p}/component-categories/${ie}/${Z}`}),t({forTarget:p,targetUid:Z})}else{ct(v,g,P),e();return}else if(ca){if(Mn(se.name)===Mn(v.name)){e();return}_t(se.name,v);return}else if(me){const Z={attributeToSet:{...v,customField:c},forTarget:p,targetUid:P,initialAttribute:se};r==="edit"?en(Z):re(Z),pe?t({forTarget:p,targetUid:xe}):e();return}else if(le&&!we){if(d==="dynamiczone"){Le(v,p,P,r==="edit",se),ke?(D({type:b.k}),S.current._handlers.setSelectedTabIndex(0),n({dynamicZoneTarget:v.name})):e();return}if(!Ee){Le(v,p,P,r==="edit",se),pe?t({forTarget:p,targetUid:xe}):e();return}if(Ge){i(),D({type:b.l,forTarget:p});return}Le(v,p,P,r==="edit",se,!0),pe?t({forTarget:p,targetUid:P}):e()}else if(le&&we){if(Ge){w("willCreateComponentFromAttributesModal"),D({type:b.m,forTarget:p}),i();return}const{category:Z,type:ie,...Ce}=nt,de=(0,b.c)(nt.displayName,Z);Ye(Ce,ie,de,Z,we),Le(v,p,P,!1),D({type:b.R}),pe?t({forTarget:"components",targetUid:de}):e();return}else{if(Ge)if(we){const{category:Z,type:ie,...Ce}=v.componentToCreate,de=(0,b.c)(v.componentToCreate.displayName,Z);Ye(Ce,ie,de,Z,we),Y(m,[de]),t({forTarget:"components",targetUid:de})}else Xt(m,v.components),e();else console.error("This case is not handled");return}D({type:b.R})}catch(xe){const Z=(0,F.ed)(xe);console.log({err:xe,errors:Z}),D({type:b.h,errors:Z})}},ko=()=>{window.confirm(ae({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),D({type:b.R}))},ga=()=>{ht(v,se)?(e(),D({type:b.R})):ko()},qo=U=>{if(U==="advanced"){if(B){w("didSelectContentTypeSettings");return}p==="contentType"&&w("didSelectContentTypeFieldSettings")}},zo=U=>{g==="attribute"&&p==="contentType"&&d!=="dynamiczone"&&U&&w("willAddMoreFieldToContentType")},Zo=()=>!!(g==="editCategory"||g==="component"||xr(v,"createComponent")),Vo=xo(p,P,nn);if(!x||!g)return null;const fa=I(Pe,[g,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Ho=p==="components"||p==="component",ha={customInputs:{"allowed-types-select":xt,"boolean-radio-group":Dn,"checkbox-with-number-field":At,"icon-picker":Lt,"content-type-radio-group":wn,"radio-group":Je,relation:Bn,"select-category":It,"select-component":Pt,"select-components":Wn,"select-default-boolean":Tt,"select-number":wt,"select-date":Dt,"toggle-draft-publish":Mt,"text-plural":Nt,"text-singular":$t,"textarea-enum":Wt,..._},componentToCreate:nt,dynamicZoneTarget:m,formErrors:Ne,isAddingAComponentToAnotherComponent:Ho,isCreatingComponentWhileAddingAField:at,mainBoxHeader:I(oe,[...O,"schema","displayName"],""),modifiedData:v,naturePickerType:p,isCreating:ke,targetUid:P,forTarget:p},ya=fa.advanced({data:v,type:d,step:j,actionType:r,attributes:on,extensions:K,forTarget:p,contentTypeSchema:oe.contentType||{},customField:C}).sections,va=fa.base({data:v,type:d,step:j,actionType:r,attributes:on,extensions:K,forTarget:p,contentTypeSchema:oe.contentType||{},customField:C}).sections,Yo=_n(va),Go=_n(ya),Ko=Object.keys(Ne).some(U=>Yo.includes(U)),Qo=Object.keys(Ne).some(U=>Go.includes(U)),Xo=I(He,[P,"schema","kind"]),Jo=()=>r==="edit"&&on.every(({name:U})=>U!==v?.name),_o=()=>{Jo()&&w("didEditFieldNameOnContentType")};return(0,a.jsxs)(Fa.k,{onClose:ga,labelledBy:"title",children:[(0,a.jsx)(Rt,{actionType:r,attributeName:l,categoryName:f,contentTypeKind:h,dynamicZoneTarget:m,modalType:g,forTarget:p,targetUid:P,attributeType:d,customFieldUid:c,showBackLink:T}),ma&&(0,a.jsx)(Pn,{attributes:Vo,forTarget:p,kind:Xo||"collectionType"}),!ma&&(0,a.jsxs)("form",{onSubmit:be,children:[(0,a.jsx)(fe.c,{children:(0,a.jsxs)(Ae.f,{label:"todo",id:"tabs",variant:"simple",ref:S,onTabChange:U=>{U===1&&qo("advanced")},children:[(0,a.jsxs)($.s,{justifyContent:"space-between",children:[(0,a.jsx)(St,{actionType:r,forTarget:p,kind:h,step:j,modalType:g,attributeType:d,attributeName:l,customField:C}),(0,a.jsxs)(Te.t,{children:[(0,a.jsx)(Te.o,{hasError:Ko,children:ae({id:u("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})}),(0,a.jsx)(Te.o,{hasError:Qo,disabled:Zo(),children:ae({id:u("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})})]})]}),(0,a.jsx)(Me.c,{}),(0,a.jsx)(R.a,{paddingTop:6,children:(0,a.jsxs)(ee.T,{children:[(0,a.jsx)(ee.K,{children:(0,a.jsx)($.s,{direction:"column",alignItems:"stretch",gap:6,children:(0,a.jsx)(Bt,{form:va,formErrors:Ne,genericInputProps:ha,modifiedData:v,onChange:pa})})}),(0,a.jsx)(ee.K,{children:(0,a.jsx)($.s,{direction:"column",alignItems:"stretch",gap:6,children:(0,a.jsx)(Bt,{form:ya,formErrors:Ne,genericInputProps:ha,modifiedData:v,onChange:pa})})})]})})]})}),(0,a.jsx)(La.j,{endActions:(0,a.jsx)(jt,{deleteCategory:Jt,deleteContentType:ut,deleteComponent:ut,categoryName:se.name,isAttributeModal:g==="attribute",isCustomFieldModal:g==="customField",isComponentToDzModal:g==="addComponentToDynamicZone",isComponentAttribute:d==="component",isComponentModal:g==="component",isContentTypeModal:g==="contentType",isCreatingComponent:r==="create",isCreatingDz:r==="create",isCreatingComponentAttribute:v.createComponent||!1,isCreatingComponentInDz:v.createComponent||!1,isCreatingComponentWhileAddingAField:at,isCreatingContentType:r==="create",isEditingAttribute:r==="edit",isDzAttribute:d==="dynamiczone",isEditingCategory:g==="editCategory",isInFirstComponentStep:j==="1",onSubmitAddComponentAttribute:be,onSubmitAddComponentToDz:be,onSubmitCreateComponent:be,onSubmitCreateContentType:be,onSubmitCreateDz:be,onSubmitEditAttribute:be,onSubmitEditCategory:be,onSubmitEditComponent:be,onSubmitEditContentType:be,onSubmitEditCustomFieldAttribute:be,onSubmitEditDz:be,onClickFinish:_o}),startActions:(0,a.jsx)(X.$,{variant:"tertiary",onClick:ga,children:ae({id:"app.components.Button.cancel",defaultMessage:"Cancel"})})})]})]})},To=()=>e=>e[`${b.p}_dataManagerProvider`]||b.o,Ao=()=>Yn(To(),e=>e),Mo=(e,t)=>{const n=Object.keys(e).filter(i=>{const r=I(e,i,{}),l=I(t,i,{}),d=I(r,["isTemporary"],!1),c=!ht(r,l);return d||c});return(0,b.q)(n)},jo=(e,t)=>{const n=ta(I(e,"schema.attributes",[]),t),i=I(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},Rn(e.schema,"attributes"),{attributes:n})},ea=(e,t=!1)=>{const n=I(e,"uid",null),i=ta(I(e,"schema.attributes",[]),n),r=t?{category:I(e,"category","")}:{},l=Object.assign(r,Rn(e.schema,"attributes"),{attributes:i});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},ta=(e,t)=>e.reduce((n,{name:i,...r})=>{const l=r,d=l.target===t,c=l.type==="relation",f=I(l,"targetAttribute",null);if(!d)if(c){const m=Object.assign({},l,{targetAttribute:na(f)});n[i]=dt(m)}else n[i]=dt(l);if(d){const m=l.target,p=Object.assign({},l,{target:m,targetAttribute:na(f)});n[i]=dt(p)}if(l.customField){const m={...l,type:"customField"};n[i]=dt(m)}return n},{}),na=e=>e==="-"?null:e,dt=e=>Object.keys(e).reduce((t,n)=>(e[n]!==null&&n!=="plugin"&&(t[n]=e[n]),t),{}),Ro=(e,t,n,i=!1)=>Mo(e,t).map(d=>{const c=I(e,d,{});return jo(c,n)}),So=e=>Rr(Object.keys(e).map(t=>({visible:e[t].schema.visible,name:t,title:e[t].schema.displayName,plugin:e[t].plugin||null,uid:t,to:`/plugins/${b.p}/content-types/${t}`,kind:e[t].schema.kind,restrictRelationsTo:e[t].schema.restrictRelationsTo})).filter(t=>t!==null),t=>jr(t.title)),aa=e=>e.reduce((t,n)=>(t[n.uid]=n,t),{}),Fo=(e,t,n,i)=>{const r=t.reduce((c,f)=>{const m=I(n,f,{});return c[f]=m,c},{});return{[i?"contentType":"component"]:e,components:r}},sa=e=>Object.keys(e).reduce((t,n)=>{const i=e[n].schema;return t[n]={...e[n],schema:{...i,attributes:Lo(i.attributes)}},t},{}),Lo=e=>Object.keys(e).reduce((t,n)=>(t.push({...e[n],name:n}),t),[]),No=e=>{const t=Object.keys(e).reduce((n,i)=>{const r=I(e,[i],{}),l=r.uid;return Eo(r)&&n.push(l),n},[]);return(0,b.q)(t)},Eo=e=>I(e,["schema","attributes"],[]).some(n=>{const{type:i}=n;return i==="component"}),ia=e=>{const t=Object.keys(e).reduce((n,i)=>{const r=e?.[i]?.schema?.attributes??[],l=Oo(r);return[...n,...l]},[]);return(0,b.q)(t)},Oo=e=>e.reduce((t,n)=>{const{type:i,component:r}=n;return i==="component"&&t.push(r),t},[]),Io=(e,t)=>{const n=Object.keys(e).map(i=>I(e,[i,...t],""));return(0,b.q)(n)},ra="did-not-kill-server",Po="server is down";function et(e,t){return new Promise(n=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(Po);if(!t)throw new Error(ra);n(e)}).catch(i=>{setTimeout(()=>et(e,i.message!==ra).then(n),100)})})}const Do=e=>Object.values(e.attributes).filter(({type:n})=>n==="dynamiczone").every(({components:n})=>Array.isArray(n)&&n.length>0),oa=({children:e})=>{const t=(0,Be.wA)(),{components:n,contentTypes:i,isLoading:r,isLoadingForDataToBeSet:l,initialData:d,modifiedData:c,reservedNames:f}=(0,Be.d4)(Ao()),m=(0,F.hN)(),{lockAppWithAutoreload:p,unlockAppWithAutoreload:g}=(0,F.Ip)(),{setCurrentStep:x}=(0,F.Cx)(),{getPlugin:T}=(0,F.vD)(),{apis:h}=T(b.p),{autoReload:j}=(0,F.Xe)(),{formatMessage:P}=(0,H.A)(),{trackUsage:C}=(0,F.z1)(),{refetchPermissions:S}=(0,F.r5)(),{pathname:L}=(0,ce.zy)(),{onCloseModal:D}=We(),k=(0,ce.W5)(`/plugins/${b.p}/content-types/:uid`),Q=(0,ce.W5)(`/plugins/${b.p}/component-categories/:categoryUid/:componentUid`),J=(0,F.ry)(),{put:w,post:ae,del:z}=J,G=(0,M.useRef)();G.current=P;const K=j,_=k!==null,Le=_?"contentType":"component",re=_?I(k,"params.uid",null):I(Q,"params.componentUid",null),Y=(0,M.useRef)(),N=_?"content-types":"components";Y.current=async()=>{try{const[{data:{data:v}},{data:{data:O}},{data:B}]=await Promise.all(["components","content-types","reserved-names"].map(ke=>J.get(`/${b.p}/${ke}`))),ne=aa(v),le=sa(ne),me=aa(O),Ee=sa(me);t({type:b.G,components:le,contentTypes:Ee,reservedNames:B})}catch(v){console.error({err:v}),m({type:"warning",message:{id:"notification.error"}})}},(0,M.useEffect)(()=>(Y.current(),()=>{t({type:b.r})}),[]),(0,M.useEffect)(()=>{!r&&re&&ct()},[r,L,re]),(0,M.useEffect)(()=>{j||m({type:"info",message:{id:u("notification.info.autoreaload-disable")}})},[j,m]);const Xt=(v,O,B,ne=!1,le,me=!1)=>{const Ee=ne?b.w:b.x;t({type:Ee,attributeToSet:v,forTarget:O,targetUid:B,initialAttribute:le,shouldAddComponentToData:me})},He=({attributeToSet:v,forTarget:O,targetUid:B,initialAttribute:ne})=>{t({type:b.A,attributeToSet:v,forTarget:O,targetUid:B,initialAttribute:ne})},tt=({attributeToSet:v,forTarget:O,targetUid:B,initialAttribute:ne})=>{t({type:b.E,attributeToSet:v,forTarget:O,targetUid:B,initialAttribute:ne})},Ye=(v,O)=>{t({type:b.u,dynamicZoneTarget:v,componentsToAdd:O})},Jt=(v,O,B,ne,le=!1)=>{const me=O==="contentType"?b.y:b.z;t({type:me,data:v,componentCategory:ne,schemaType:O,uid:B,shouldAddComponentToData:le})},ut=(v,O)=>{t({type:b.C,dynamicZoneTarget:v,newComponents:O})},_t=(v,O,B="")=>{const ne=v==="components"?b.B:b.F;v==="contentType"&&C("willDeleteFieldOfContentType"),t({type:ne,mainDataKey:v,attributeToRemoveName:O,componentUid:B})},en=async v=>{try{const O=`/${b.p}/component-categories/${v}`,B=window.confirm(P({id:u("popUpWarning.bodyMessage.category.delete")}));D(),B&&(p(),await z(O),await et(!0),await g(),await se())}catch(O){console.error({err:O}),m({type:"warning",message:{id:"notification.error"}})}finally{g()}},tn=async()=>{try{const v=`/${b.p}/${N}/${re}`,O=I(c,[Le,"isTemporary"],!1),B=window.confirm(P({id:u(`popUpWarning.bodyMessage.${_?"contentType":"component"}.delete`)}));if(D(),B){if(O){t({type:b.D});return}p(),await z(v),await et(!0),await g(),await se()}}catch(v){console.error({err:v}),m({type:"warning",message:{id:"notification.error"}})}finally{g()}},oe=async(v,O)=>{try{const B=`/${b.p}/component-categories/${v}`;D(),p(),await w(B,O),await et(!0),await g(),await se()}catch(B){console.error({err:B}),m({type:"warning",message:{id:"notification.error"}})}finally{g()}},nn=()=>{const v=Object.assign({},n,c.components);if(!_){const B=I(c,"component",{});An(v,I(B,["uid"],""),B)}const O=No(v);return(0,b.q)(O)},an=()=>{const v=ia(n),O=ia(c.components||{});return(0,b.q)([...O,...v])},sn=(v,O)=>{t({type:b.v,dzName:v,componentToRemoveIndex:O})},ct=()=>{const O=I(_?i:n,re,{schema:{attributes:[]}}),B=(0,b.s)(O.schema.attributes,n),ne=Fo(O,B,n,_),le=I(O,"isTemporary",!1)&&br(I(O,"schema.attributes",[]))===0;t({type:b.t,schemaToSet:ne,hasJustCreatedSchema:le})},De=(0,M.useMemo)(()=>{const v=_?i:n;return re==="create-content-type"?!1:!Object.keys(v).includes(re)&&!r},[n,i,re,_,r]),nt=(0,M.useMemo)(()=>{const v=Object.keys(i).filter(O=>I(i,[O,"schema","visible"],!0)).sort();return I(v,"0","create-content-type")},[i]);if(De)return(0,a.jsx)(ce.rd,{to:`/plugins/${b.p}/content-types/${nt}`});const Ne=async v=>{try{const O=I(c,[Le,"isTemporary"],!1),B={components:Ro(c.components,n,re,O)};if(_){const me=h.forms.mutateContentTypeSchema({...ea(c.contentType),...v},d.contentType);if(!Do(me)){m({type:"warning",message:{id:u("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}B.contentType=me,C("willSaveContentType")}else B.component=ea(c.component,!0),C("willSaveComponent");p();const ne=`/${b.p}/${N}`,le=O?ne:`${ne}/${re}`;if(O?await ae(le,B):await w(le,B),await et(!0),await g(),O&&(d.contentType?.schema.kind==="collectionType"||d.contentType?.schema.kind==="singleType")&&x("contentTypeBuilder.success"),_){C("didSaveContentType");const me=I(B,["contentType","schema","name"],""),Ee=I(d,["contentType","schema","name"],"");!O&&me!==Ee&&C("didEditNameOfContentType")}else C("didSaveComponent");await se()}catch(O){_||C("didNotSaveComponent"),console.error({err:O.response}),m({type:"warning",message:{id:"notification.error"}})}finally{g()}},se=async()=>{await S()},at=(v,O,B)=>{t({type:b.U,data:v,schemaType:O,uid:B})};return(0,a.jsx)(Sn.Provider,{value:{addAttribute:Xt,addCustomFieldAttribute:He,addCreatedComponentToDynamicZone:Ye,allComponentsCategories:Io(n,["category"]),changeDynamicZoneComponents:ut,components:n,componentsGroupedByCategory:vr(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:nn(),contentTypes:i,createSchema:Jt,deleteCategory:en,deleteData:tn,editCategory:oe,editCustomFieldAttribute:tt,isInDevelopmentMode:K,initialData:d,isInContentTypeView:_,modifiedData:c,nestedComponents:an(),removeAttribute:_t,removeComponentFromDynamicZone:sn,reservedNames:f,setModifiedData:ct,sortedContentTypesList:So(i),submitData:Ne,updateSchema:at},children:l?(0,a.jsx)(F.Bl,{}):(0,a.jsxs)(a.Fragment,{children:[e,K&&(0,a.jsx)(Co,{})]})})};oa.propTypes={children:s.node.isRequired};const wo=(0,M.memo)(oa),la={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},da=({children:e})=>{const[t,n]=(0,M.useState)(la),{trackUsage:i}=(0,F.z1)(),r=({attributeType:C,customFieldUid:S})=>{n(L=>({...L,actionType:"create",modalType:"customField",attributeType:C,customFieldUid:S}))},l=({attributeType:C,step:S})=>{t.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:C}),n(L=>({...L,actionType:"create",modalType:"attribute",step:S,attributeType:C,showBackLink:!0}))},d=({dynamicZoneTarget:C,targetUid:S})=>{n(L=>({...L,dynamicZoneTarget:C,targetUid:S,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:C,targetUid:S})=>{n(L=>({...L,actionType:"create",forTarget:C,targetUid:S,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},f=C=>{n(S=>({...S,...C,isOpen:!0}))},m=C=>{n(S=>({...S,categoryName:C,actionType:"edit",modalType:"editCategory",isOpen:!0}))},p=({forTarget:C,targetUid:S,attributeName:L,attributeType:D,customFieldUid:k})=>{n(Q=>({...Q,modalType:"customField",customFieldUid:k,actionType:"edit",forTarget:C,targetUid:S,attributeName:L,attributeType:D,isOpen:!0}))},g=({forTarget:C,targetUid:S,attributeName:L,attributeType:D,step:k})=>{n(Q=>({...Q,modalType:"attribute",actionType:"edit",forTarget:C,targetUid:S,attributeName:L,attributeType:D,step:k,isOpen:!0}))},x=({modalType:C,forTarget:S,targetUid:L,kind:D})=>{n(k=>({...k,modalType:C,actionType:"edit",forTarget:S,targetUid:L,kind:D,isOpen:!0}))},T=()=>{n(la)},h=({forTarget:C,targetUid:S})=>{n(L=>({...L,forTarget:C,targetUid:S,modalType:"chooseAttribute"}))},j=()=>{n(C=>({...C,attributeType:"component",modalType:"attribute",step:"2"}))},P=({dynamicZoneTarget:C})=>{n(S=>({...S,dynamicZoneTarget:C,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return(0,a.jsx)(Fn.Provider,{value:{...t,onClickSelectField:l,onClickSelectCustomField:r,onCloseModal:T,onNavigateToChooseAttributeModal:h,onNavigateToAddCompoToDZModal:P,onOpenModalAddComponentsToDZ:d,onNavigateToCreateComponentStep2:j,onOpenModalAddField:c,onOpenModalCreateSchema:f,onOpenModalEditCategory:m,onOpenModalEditField:g,onOpenModalEditCustomField:p,onOpenModalEditSchema:x,setFormModalNavigationState:n},children:e})};da.propTypes={children:s.node.isRequired};const $o=(0,M.lazy)(()=>o.e(4442).then(o.bind(o,14442))),Bo=()=>{const{url:e}=(0,ce.W5)(),{categoryUid:t}=(0,ce.g)();return(0,a.jsx)(M.Suspense,{fallback:(0,a.jsx)(F.Bl,{}),children:(0,a.jsx)(ce.dO,{children:(0,a.jsx)(ce.qh,{path:`${e}/:componentUid`,children:(0,a.jsx)($o,{categoryId:t})})})})},ua=(0,M.lazy)(()=>o.e(4442).then(o.bind(o,14442))),Wo=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{formatMessage:e}=(0,H.A)(),t=e({id:`${b.p}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:n}=(0,F.Cx)(),i=(0,M.useRef)(n);return(0,M.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),(0,a.jsxs)(F.kz,{permissions:b.P.main,children:[(0,a.jsx)(Ea.m,{title:t}),(0,a.jsx)(da,{children:(0,a.jsx)(wo,{children:(0,a.jsx)(Na.P,{sideNav:(0,a.jsx)(Fr,{}),children:(0,a.jsx)(M.Suspense,{fallback:(0,a.jsx)(F.Bl,{}),children:(0,a.jsxs)(ce.dO,{children:[(0,a.jsx)(ce.qh,{path:`/plugins/${b.p}/content-types/create-content-type`,component:ua}),(0,a.jsx)(ce.qh,{path:`/plugins/${b.p}/content-types/:uid`,component:ua}),(0,a.jsx)(ce.qh,{path:`/plugins/${b.p}/component-categories/:categoryUid`,component:Bo})]})})})})})]})}},Symbol.toStringTag,{value:"Module"}))},20415:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...q,children:(0,a.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M2.68 9.192c-.6.276-2.114 1.18-2.306 1.303a.792.792 0 0 0-.374.68v1.65a.797.797 0 0 0 .384.687c.254.16 1.73 1.042 2.306 1.303l.744 1.8c-.24.634-.67 2.333-.72 2.554a.797.797 0 0 0 .216.744l1.167 1.166a.801.801 0 0 0 .744.216l.03-.008c.36-.092 1.946-.498 2.523-.712l1.8.744c.276.6 1.181 2.115 1.304 2.307a.805.805 0 0 0 .679.374h1.649a.797.797 0 0 0 .686-.384c.16-.254 1.042-1.73 1.303-2.306l1.8-.744c.634.24 2.333.67 2.554.72a.797.797 0 0 0 .744-.216l1.166-1.167a.803.803 0 0 0 .216-.744l-.008-.03c-.092-.36-.498-1.946-.712-2.523l.744-1.8c.6-.276 2.115-1.181 2.307-1.304a.804.804 0 0 0 .374-.679v-1.649a.796.796 0 0 0-.382-.679c-.254-.16-1.73-1.041-2.306-1.303l-.744-1.8c.24-.634.67-2.333.72-2.554a.796.796 0 0 0-.216-.744l-1.166-1.173a.802.802 0 0 0-.744-.216l-.03.008c-.361.092-1.947.498-2.524.712l-1.8-.744c-.276-.6-1.18-2.115-1.303-2.307a.803.803 0 0 0-.68-.374h-1.65a.797.797 0 0 0-.68.382c-.16.254-1.041 1.73-1.303 2.306l-1.8.744c-.634-.24-2.333-.67-2.554-.72a.797.797 0 0 0-.744.216L2.921 4.094a.802.802 0 0 0-.216.744l.008.03c.092.361.498 1.947.712 2.524l-.744 1.8ZM12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z",clipRule:"evenodd"})}),R=M},21396:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...q,children:(0,a.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M23.12 3.907c-.025 0-.055-.005-.087-.011a.72.72 0 0 0-.13-.016H5.929l-.27-1.805A2.413 2.413 0 0 0 3.26 0H1.078C.485 0 0 .485 0 1.078c0 .593.485 1.078 1.078 1.078H3.26c.135 0 .243.107.27.242L5.2 13.77a2.954 2.954 0 0 0 2.91 2.506h11.21c1.401 0 2.614-.997 2.91-2.371l1.752-8.757a1.065 1.065 0 0 0-.863-1.24Zm-4.932 13.927a2.8 2.8 0 0 0-2.802 2.802 2.8 2.8 0 0 0 2.802 2.802 2.8 2.8 0 0 0 2.803-2.802c-.027-1.536-1.267-2.802-2.803-2.802Zm-9.646 0a2.786 2.786 0 0 1 2.775 2.667c.081 1.536-1.132 2.83-2.667 2.91h-.054a2.762 2.762 0 0 1-2.749-2.667 2.819 2.819 0 0 1 2.695-2.91Z",clipRule:"evenodd"})}),R=M},22171:(te,V,o)=>{var a=o(41225),M=o(52689),R=o(54765),q=R&&R.isRegExp,ue=q?M(q):a;te.exports=ue},28442:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...q,children:[(0,a.jsx)("path",{fill:"#212134",d:"M11.987 23.036v-.964H1.876V1.876h10.111V0H0v24h11.987v-.964Z"}),(0,a.jsx)("path",{fill:"#212134",d:"M8 11.2c0-.11.09-.2.2-.2h11.973l-5.445-5.445a.2.2 0 0 1 0-.283l1.13-1.13a.2.2 0 0 1 .283 0l7.718 7.717a.2.2 0 0 1 0 .282L16.14 19.86a.2.2 0 0 1-.282 0l-1.13-1.13a.2.2 0 0 1 0-.284L20.172 13H8.2a.2.2 0 0 1-.2-.2v-1.6Z"})]}),R=M},29047:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...q,children:(0,a.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M23.707.297A1 1 0 0 0 23 .004h-2a13.907 13.907 0 0 0-5.38 1.077 1 1 0 0 0-.615.923V4.92a.035.035 0 0 1-.022.038l-2-1.47a1 1 0 0 0-1.265.052A14 14 0 0 0 7 14.004v1.585l-2.707 2.707a1 1 0 1 0 1.415 1.415l2.707-2.708H10a14.014 14.014 0 0 0 14-14v-2a1 1 0 0 0-.293-.706ZM18 23.999H3a3 3 0 0 1-3-3V6A3 3 0 0 1 3 3h3a1 1 0 1 1 0 2H3a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1v-3a1 1 0 1 1 2 0v3a3 3 0 0 1-3 3Z",clipRule:"evenodd"})}),R=M},35336:(te,V,o)=>{var a=o(8928),M=o(88974),R=o(20598),q=o(57505),ue=o(22171),Oe=o(49605),$=o(30660),W=o(88765),ge=o(85306),Ke=30,qe="...",mt=/\w*$/;function pt(fe,Ae){var Te=Ke,Me=qe;if(q(Ae)){var ee="separator"in Ae?Ae.separator:ee;Te="length"in Ae?W(Ae.length):Te,Me="omission"in Ae?a(Ae.omission):Me}fe=ge(fe);var $e=fe.length;if(R(fe)){var Re=$(fe);$e=Re.length}if(Te>=$e)return fe;var he=Te-Oe(Me);if(he<1)return Me;var ye=Re?M(Re,0,he).join(""):fe.slice(0,he);if(ee===void 0)return ye+Me;if(Re&&(he+=ye.length-he),ue(ee)){if(fe.slice(he).search(ee)){var ze,gt=ye;for(ee.global||(ee=RegExp(ee.source,ge(mt.exec(ee))+"g")),ee.lastIndex=0;ze=ee.exec(gt);)var X=ze.index;ye=ye.slice(0,X===void 0?he:X)}}else if(fe.indexOf(a(ee),he)!=he){var Qe=ye.lastIndexOf(ee);Qe>-1&&(ye=ye.slice(0,Qe))}return ye+Me}te.exports=pt},38910:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 25 25",...q,children:(0,a.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"m13.58.448 3.177 3.176L18.66 1.72a3.267 3.267 0 1 1 4.62 4.62l-1.904 1.904 3.175 3.175a1.528 1.528 0 0 1 0 2.162l-3.175 3.175L20.2 15.58a3.267 3.267 0 1 0-4.62 4.62l1.177 1.177-3.176 3.176a1.528 1.528 0 0 1-2.162 0l-3.175-3.175-1.902 1.902a3.267 3.267 0 1 1-4.62-4.62l1.902-1.902-3.176-3.176a1.528 1.528 0 0 1 0-2.162l3.176-3.176L4.8 9.42a3.267 3.267 0 0 0 4.62-4.62L8.244 3.623 11.419.448a1.528 1.528 0 0 1 2.162 0Z",clipRule:"evenodd"})}),R=M},39527:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...q,children:(0,a.jsx)("path",{fill:"#212134",d:"M6.455 19 2 22.5V4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H6.455ZM7 10v2h2v-2H7Zm4 0v2h2v-2h-2Zm4 0v2h2v-2h-2Z"})}),R=M},41225:(te,V,o)=>{var a=o(81204),M=o(51646),R="[object RegExp]";function q(ue){return M(ue)&&a(ue)==R}te.exports=q},46270:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...q,children:(0,a.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),R=M},54429:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...q,children:(0,a.jsx)("path",{fill:"#212134",d:"M13 21v2.5l-3-2-3 2V21h-.5A3.5 3.5 0 0 1 3 17.5V5a3 3 0 0 1 3-3h14a1 1 0 0 1 1 1v17a1 1 0 0 1-1 1h-7Zm-6-2v-2h6v2h6v-3H6.5a1.5 1.5 0 1 0 0 3H7ZM7 5v2h2V5H7Zm0 3v2h2V8H7Zm0 3v2h2v-2H7Z"})}),R=M},57574:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 15 14",...q,children:(0,a.jsx)("path",{fill:"#212134",d:"M5.08 4.1c0-1.19 1.18-2.17 2.42-2.17s2.43.98 2.43 2.17c0 1.1-.56 1.61-1.31 2.28l-.03.03c-.75.65-1.66 1.47-1.66 3.09a.57.57 0 1 0 1.15 0c0-1.08.55-1.6 1.3-2.26l.02-.02c.75-.66 1.67-1.48 1.67-3.12C11.07 2.13 9.22.78 7.5.78 5.78.78 3.93 2.13 3.93 4.1a.57.57 0 1 0 1.15 0Zm2.42 9.26a.88.88 0 1 0 0-1.75.88.88 0 0 0 0 1.75Z"})}),R=M},64486:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...q,children:(0,a.jsx)("path",{fill:"#212134",d:"M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.53-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685Z"})}),R=M},76079:(te,V,o)=>{"use strict";o.d(V,{B:()=>q});var a=o(92132),M=o(94929),R=o(56654);const q=({options:Oe,...$})=>(0,a.jsx)(R.KF,{...$,children:Oe.map(W=>"children"in W?(0,a.jsx)(R.np,{label:W.label,values:W.children.map(ge=>ge.value.toString()),children:W.children.map(ge=>(0,a.jsx)(ue,{value:ge.value,children:ge.label},ge.value))},W.label):(0,a.jsx)(R.fe,{value:W.value,children:W.label},W.value))}),ue=(0,M.Ay)(R.fe)`
  padding-left: ${({theme:Oe})=>Oe.spaces[7]};
`},98052:(te,V,o)=>{"use strict";o.d(V,{A:()=>R});var a=o(92132);const M=q=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 8 8",...q,children:(0,a.jsx)("path",{fill:"#212134",d:"M2 .93c0-.4.45-.63.78-.41l4.6 3.06c.3.2.3.64 0 .84l-4.6 3.06A.5.5 0 0 1 2 7.07V.93Z"})}),R=M}}]);
