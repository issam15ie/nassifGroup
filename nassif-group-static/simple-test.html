<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>ğŸ§ª Simple Static Website Test</h1>
        
        <div id="debug-info" class="alert alert-info">
            <i class="fas fa-spinner fa-spin"></i> Loading...
        </div>
        
        <div id="properties-container" class="row">
            <!-- Properties will be loaded here -->
        </div>
    </div>

    <script src="js/embedded-data.js"></script>
    <script src="js/embedded-api.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ” Starting simple test...');
            
            try {
                // Initialize API
                const api = new EmbeddedStaticAPI();
                console.log('âœ… API initialized');
                
                // Get apartments
                const apartments = api.apartments;
                console.log('ğŸ“Š Apartments:', apartments);
                
                // Update debug info
                const debugDiv = document.getElementById('debug-info');
                debugDiv.innerHTML = `
                    <h5>âœ… Data Loaded Successfully!</h5>
                    <ul class="mb-0">
                        <li><strong>Total Apartments:</strong> ${apartments.length}</li>
                        <li><strong>Featured Apartments:</strong> ${apartments.filter(apt => apt.isFeatured).length}</li>
                    </ul>
                `;
                
                // Show first few apartments
                const container = document.getElementById('properties-container');
                apartments.slice(0, 3).forEach(apartment => {
                    console.log('ğŸ  Apartment:', apartment);
                    console.log('ğŸ–¼ï¸ Image path:', apartment.mainImage);
                    
                    const col = document.createElement('div');
                    col.className = 'col-md-4 mb-3';
                    
                    col.innerHTML = `
                        <div class="card">
                            <img src="${apartment.mainImage}" class="card-img-top" alt="${apartment.name}" 
                                 style="height: 200px; object-fit: cover;"
                                 onload="console.log('âœ… Image loaded:', '${apartment.mainImage}')"
                                 onerror="console.log('âŒ Image failed:', '${apartment.mainImage}')">
                            <div class="card-body">
                                <h5 class="card-title">${apartment.name}</h5>
                                <p class="card-text">Project: ${apartment.project}</p>
                                <p class="card-text">Type: ${apartment.propertyType}</p>
                                <p class="card-text">Price: ${apartment.currency}${apartment.price}</p>
                                <p class="card-text"><small>Image: ${apartment.mainImage}</small></p>
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(col);
                });
                
            } catch (error) {
                console.error('âŒ Test failed:', error);
                document.getElementById('debug-info').innerHTML = `
                    <h5>âŒ Test Failed</h5>
                    <p>Error: ${error.message}</p>
                `;
            }
        });
    </script>
</body>
</html>
